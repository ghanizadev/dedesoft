{"version":3,"sources":["services/index.js","components/checkBill.js","components/datePick.js","context.js","components/tableSalesAdmin.js","components/dropdown.js","components/addUser.js","components/resetMessage.js","components/tableSellers.js","components/navbar.js","pages/admin.js","components/addBill.js","components/tableSalesSellers.js","pages/seller.js","pages/login.js","pages/notFound.js","pages/newPassword.js","pages/cashier.js","routes/index.js","index.js"],"names":["axios","require","jwt","host","window","location","hostname","date","Date","firstDay","getFullYear","getMonth","lastDay","getSales","a","page","token","user","decode","get","id","headers","Authorization","then","response","status","data","catch","console","log","getSalesAll","range","start","end","toISOString","split","login","username","password","post","validateStatus","addSale","load","body","code","value","Number","addSeller","role","name","getResetCode","resetPassword","deleteSales","sales","Promise","all","map","sale","delete","alterSales","patch","paySales","paid","getSellers","deleteSellers","Container","styled","div","Box","Title","p","Input","input","Label","label","Button","button","props","Quit","CheckBill","useState","setData","createdAt","formated","toFixed","replace","React","useEffect","listener","e","key","onClose","document","addEventListener","removeEventListener","defaultValue","disabled","onChange","target","type","toLocaleDateString","toLocaleTimeString","contentEditable","style","color","seller","display","onClick","onPay","onAlter","onDelete","span","DatePick","pad","number","getDate","config","context","docs","startDate","endDate","sellers","setContext","Context","createContext","Provider","newConfig","setState","state","children","Table","table","TableHeader","th","Row","tr","InputContainer","td","Pagination","section","ActionList","PageArrow","ItemButton","ActionButton","RowItem","ActionNav","selected","setSelected","selectedOne","setSelectedOne","toggleCheck","setToggleCheck","useCookies","cookies","useContext","Consumer","confirm","authorization","access_token","onRefresh","alert","onDateChange","currentPage","valueAsDate","size","length","textAlign","checked","arr","filter","item","checkAll","includes","i","concat","fontSize","count","totalCount","previousPage","pages","nextPage","Select","select","Option","option","Dropdown","tabOnEnter","element","event","getElementById","focus","AddUser","onKeyDown","placeholder","onSubmit","backgroundColor","ResetMessage","url","setUrl","setLogin","inputUrl","useRef","shift","str","href","pathname","ref","readOnly","current","execCommand","addUser","setAddUser","toggleReset","setToggleReset","total","reduce","acc","open","forEach","commission","nav","Main","Bar","NavButtons","removeCookies","reload","items","path","Dashboard","setPage","updateSellers","d","message","sellersData","updateSales","salesData","updateData","pageSellers","pageSales","Sellers","Sales","AddBill","run","seller_id","pattern","addBill","setAddBill","Seller","Home","flexDirection","flex","margin","minHeight","justifyContent","CopyRight","Login","setCookie","history","useHistory","sendLogin","sameSite","push","rel","withRouter","query","qs","parse","search","substring","confirmPassword","App","loggedIn","component","NewPassword","exact","render","to","NotFound","ReactDOM","CookiesProvider"],"mappings":"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","file":"static/js/main.d2f471cd.chunk.js","sourcesContent":["const axios = require(\"axios\");\r\nconst jwt = require('jsonwebtoken');\r\n\r\nconst host = `http://${window.location.hostname}:3333`;\r\n\r\nconst date = new Date();\r\nconst firstDay = new Date(date.getFullYear(), date.getMonth(), 1);\r\nconst lastDay = new Date(date.getFullYear(), date.getMonth() + 1, 0);\r\n\r\nexport const getSales = async (page = 1, token) => {\r\n    const user = jwt.decode(token);\r\n    const data = await axios.get(`${host}/sellers/${user.id}/list?page=${page}`,{\r\n        headers: {\r\n            Authorization: \"Bearer \" + token,\r\n        }\r\n    })\r\n    .then(response => {\r\n        if(response.status === 200)\r\n            return response.data;\r\n    })\r\n    .catch(console.log);\r\n\r\n    return data;\r\n}\r\n\r\nexport const getSaleCode = async (code, token) => {\r\n    const data = await axios.get(`${host}/sales/${code}` ,{\r\n        headers: {\r\n            Authorization: \"Bearer \" + token,\r\n        }\r\n    })\r\n    .then(response => {\r\n        if(response.status === 200)\r\n            return response.data;\r\n    })\r\n    .catch(console.log);\r\n\r\n    return data;\r\n}\r\n\r\nexport const getSalesAll = async (page = 1, token, range = {start: firstDay, end: lastDay}) => {\r\n    const data = await axios.get(`${host}/sales?page=${page}&start=${range.start.toISOString().split('T')[0]}&end=${range.end.toISOString().split('T')[0]}`,{\r\n        headers: {\r\n            Authorization: \"Bearer \" + token,\r\n        }\r\n    })\r\n    .then(response => {\r\n        if(response.status === 200)\r\n            return response.data;\r\n    })\r\n    .catch(console.log);\r\n\r\n    return data;\r\n}\r\n\r\nexport const login = async ({username, password}) => \r\n    axios.post(`${host}/login`,\r\n    {username, password},\r\n    {\r\n        validateStatus: status => status >= 200 && status < 500\r\n    });\r\n\r\n\r\nexport const addSale = async (load = {}, token ) => {\r\n    const user = jwt.decode(token);\r\n\r\n    const body = {\r\n        code: load.code,\r\n        value: Number(load.value),\r\n    }\r\n    const data = await axios.post(`${host}/sellers/${user.id}/add`, body,\r\n    {\r\n        headers: {\r\n            Authorization: \"Bearer \" + token,\r\n        }\r\n    }\r\n    )\r\n    .then(response => {\r\n        if(response.status === 200)\r\n            return response.data;\r\n    })\r\n    .catch(console.log);\r\n\r\n    return data;\r\n}\r\n\r\nexport const addSeller = async (load = {}, token ) => {\r\n    const body = {\r\n        code: load.code,\r\n        role: load.role,\r\n        name: load.name,\r\n        password: load.password,\r\n    }\r\n    const data = await axios.post(`${host}/sellers`, body,\r\n    {\r\n        headers: {\r\n            Authorization: \"Bearer \" + token,\r\n        }\r\n    }\r\n    )\r\n    .then(response => {\r\n        if(response.status === 200)\r\n            return response.data;\r\n    })\r\n    .catch(console.log);\r\n\r\n    return data;\r\n}\r\n\r\nexport const getResetCode = async ({username}, token ) => {\r\n    const data = await axios.post(`${host}/reset-code`, {username},\r\n    {\r\n        headers: {\r\n            Authorization: \"Bearer \" + token,\r\n        }\r\n    })\r\n    .then(response => {\r\n        if(response.status === 200)\r\n            return response.data;\r\n    })\r\n    .catch(console.log);\r\n\r\n    return data;\r\n}\r\n\r\nexport const resetPassword = async ({username, code, password}) => \r\n    axios.post(`${host}/reset-password`, {username, code, password});\r\n\r\nexport const deleteSales = async (sales = [], token) => {\r\n    await Promise.all(sales.map(async sale => {\r\n        return await axios.delete(host + '/sales/' + sale.id,\r\n        {\r\n            headers: {\r\n                Authorization: \"Bearer \" + token,\r\n            }\r\n        }\r\n        )\r\n        .then(response => {\r\n            if(response.status === 204)\r\n                return;\r\n        })\r\n        .catch(console.log);\r\n    }));\r\n\r\n    return;\r\n}\r\n\r\nexport const alterSales = async (sales = [], token) => {\r\n    await Promise.all(sales.map(async sale => {\r\n        return await axios.patch(`${host}/sales/${sale.id}`, sale,\r\n        {\r\n            headers: {\r\n                Authorization: \"Bearer \" + token,\r\n            }\r\n        })\r\n        .then(response => {\r\n            if(response.status === 204)\r\n                return;\r\n        })\r\n        .catch(console.log);\r\n    }));\r\n\r\n    return;\r\n}\r\n\r\nexport const paySales = async (sales = [], token) => {\r\n    await Promise.all(sales.map(async sale => {\r\n        return await axios.patch(\r\n        `${host}/sales/${sale.id}`,\r\n        {\r\n            paid: true\r\n        },{\r\n            headers: {\r\n                Authorization: \"Bearer \" + token,\r\n            }\r\n        })\r\n        .then(response => {\r\n            if(response.status === 200)\r\n                return;\r\n        })\r\n        .catch(console.log);\r\n    }));\r\n\r\n    return;\r\n}\r\n\r\nexport const getSellers = async (page = 1, token, range = {start: firstDay, end: lastDay}) => {\r\n    const data = await axios.get(`${host}/sellers?page=${page}&start=${range.start.toISOString().split('T')[0]}&end=${range.end.toISOString().split('T')[0]}`, {\r\n        headers: {\r\n            Authorization: \"Bearer \" + token,\r\n        }\r\n    })\r\n    .then(response => {\r\n        if(response.status === 200)\r\n            return response.data;\r\n    })\r\n    .catch(console.log);\r\n\r\n    return data;\r\n}\r\n\r\nexport const deleteSellers = async (sales = [], token) => {\r\n    await Promise.all(sales.map(async sale => {\r\n        return await axios.delete(`${host}/sellers/${sale.id}`, {\r\n            headers: {\r\n                Authorization: \"Bearer \" + token,\r\n            }\r\n        })\r\n        .then(response => {\r\n            if(response.status === 204)\r\n                return;\r\n        })\r\n        .catch(console.log);\r\n    }));\r\n\r\n    return;\r\n}","import React, { useState } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst Container = styled.div`\r\n    z-index: 2;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    background-color: #333;\r\n    opacity: 0.15;\r\n    position: fixed;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n`;\r\n\r\nconst Box = styled.div`\r\n    width: 25vw;\r\n    padding: 15px;\r\n    background-color: white;\r\n    position: fixed;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    z-index: 3;\r\n    display: flex;\r\n    flex-direction: column;\r\n    min-width: 320px;\r\n`;\r\n\r\nconst Title = styled.p`\r\n    font-size: 14pt;\r\n    font-weight: 500;\r\n    margin: 0 0 15px 0;\r\n`;\r\n\r\nconst Input = styled.input`\r\n    width: 100%;\r\n    height: 30px;\r\n    border: 1px solid #ddd;\r\n    border-radius: 3px;\r\n    margin: 5px 0;\r\n    padding: 0 10px;\r\n    color: #333;\r\n    text-align: right;\r\n`;\r\n\r\nconst Label = styled.label`\r\n    color: #333;\r\n    font-size: 10pt;\r\n    font-weight: 300;\r\n    margin: 5px 0;\r\n`;\r\n\r\nconst Button = styled.button`\r\n    width: 100%;\r\n    height: 30px;\r\n    border: none;\r\n    border-radius: 3px;\r\n    margin: 5px 0;\r\n    background-color: ${props => {\r\n        switch(props.id){\r\n            case 'pay': return \"#00de89\";\r\n            case 'alter': return \"#ffc219\";\r\n            case 'delete': return \"tomato\";\r\n            default: return \"#00de89\"\r\n        }\r\n    }};\r\n    color: white;\r\n    font-weight: 500;\r\n    transition: filter 0.25s ease;\r\n\r\n    &:disabled {\r\n        background-color: lightgray;\r\n    }\r\n\r\n    &:hover{\r\n        filter: brightness(.95);\r\n    }\r\n`;\r\n\r\nconst Quit = styled.button`\r\n    width: 16px;\r\n    height: 16px;\r\n    border: none;\r\n    border-radius: 8px;\r\n    position: absolute;\r\n    top: 15px;\r\n    right: 15px;\r\n    background-color: tomato;\r\n    color: white;\r\n    font-weight: 500;\r\n    transition: filter 0.25s ease;\r\n\r\n    &:hover{\r\n        filter: brightness(.95);\r\n    }\r\n`;\r\n\r\nconst CheckBill = props => {\r\n    const [data, setData] = useState(props.data);\r\n    \r\n    const {code, value, createdAt, paid, id} = props.data;\r\n\r\n    const formated = (value || 0).toFixed(2).replace('.', ',');\r\n\r\n    React.useEffect(() => {\r\n        const listener = e => {\r\n            if(e.key === \"Escape\")\r\n                props.onClose();\r\n        }\r\n        document.addEventListener('keydown', listener)\r\n\r\n        return () => {\r\n            document.removeEventListener('keydown', listener)\r\n        }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n    return(\r\n        <>\r\n        <Container />\r\n        <Box key={props.data.value ? 'notLoaded' : 'loaded'}>\r\n            <Title>\r\n                Informações do pedido\r\n            </Title>\r\n            {/* <Label>\r\n                Vendedor: \r\n                <Input\r\n                    value={data.seller ? data.seller.name : ''}\r\n                    contentEditable={false}\r\n                    disabled={true}\r\n                    type=\"text\"\r\n                />\r\n            </Label> */}\r\n            <Label>\r\n                Nº do pedido:\r\n                <Input\r\n                    defaultValue={code}\r\n                    disabled={paid}\r\n                    onChange={e => setData({...data, id, code: e.target.value})}\r\n                    type=\"text\"\r\n                />\r\n            </Label>\r\n            <Label>\r\n                Valor do pedido (R$):\r\n                <Input\r\n                    defaultValue={formated}\r\n                    disabled={paid}\r\n                    onChange={e => setData({...data, id, value: Number(e.target.value.replace(\",\", \".\"))})}\r\n                    type=\"text\"\r\n                />\r\n            </Label>\r\n            <Label>\r\n                Data:\r\n                <Input\r\n                    disabled={true}\r\n                    value={`${new Date(createdAt).toLocaleDateString()} às ${new Date(createdAt).toLocaleTimeString()}`}\r\n                    contentEditable={false}\r\n                    type=\"text\"\r\n                />\r\n            </Label>\r\n            <Label>\r\n                Situação:\r\n                <Input\r\n                    disabled={true}\r\n                    value={paid ? \"Pago\" : \"Aguardando pagamento\"}\r\n                    style={{color: paid ? \"#00de89\" : \"tomato\"}}\r\n                    contentEditable={false}\r\n                    type=\"text\"\r\n                />\r\n            </Label>\r\n            <Button\r\n                id=\"pay\"\r\n                disabled={props.seller}\r\n                style={{display: paid ? 'none' : null}}\r\n                onClick={()=> props.onPay(id)}\r\n            >Pagar</Button>\r\n            <Button\r\n                id=\"alter\"\r\n                style={{display: paid ? 'none' : null}}\r\n                onClick={()=> props.onAlter(data)}\r\n            >Alterar</Button>\r\n            <Button\r\n                id=\"delete\"\r\n                style={{display: paid ? 'none' : null}}\r\n                onClick={()=> props.onDelete(id)}\r\n            >Deletar</Button>\r\n            <Quit\r\n                onClick={()=> props.onClose()}\r\n            >&times;</Quit>\r\n        </Box>\r\n        </>\r\n    );\r\n}\r\nexport default CheckBill;","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst Container = styled.span`\r\n    padding: 5px;\r\n`;\r\n\r\nconst DatePick = props => {\r\n    const {date} = props;\r\n\r\n    function pad(number) {\r\n        if (number < 10) {\r\n        return '0' + number;\r\n        }\r\n        return number;\r\n    }\r\n\r\n    return(\r\n        <Container>\r\n            <input type=\"date\" value={date && `${date.getFullYear()}-${pad(date.getMonth() + 1)}-${pad(date.getDate())}`} {...props} />\r\n        </Container>\r\n    );\r\n}\r\n\r\nexport default DatePick;","import React, {useState} from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst date = new Date();\r\nconst firstDay = new Date(date.getFullYear(), date.getMonth(), 1);\r\nconst lastDay = new Date(date.getFullYear(), date.getMonth() + 1, 0);\r\n\r\nconst config = {\r\n\tcontext: {\r\n\t\tsales: {\r\n            data: {\r\n\t\t\t\tdocs: []\r\n\t\t\t},\r\n            startDate: firstDay,\r\n            endDate: lastDay,\r\n        },\r\n        sellers: {\r\n            data: {\r\n\t\t\t\tdocs: []\r\n\t\t\t},\r\n            startDate: firstDay,\r\n            endDate: lastDay,\r\n        }\r\n\t},\r\n\tsetContext: () => {},\r\n};\r\n\r\nconst Context = React.createContext(config);\r\n\r\nconst Provider = props =>{\r\n\tconst setContext = (newConfig) => {\r\n\t\tsetState({...state, context: newConfig});\r\n\t};\r\n    \r\n\tconst [state, setState] = useState({...config, setContext});\r\n\r\n\treturn (\r\n\t\t<Context.Provider value={state}>\r\n\t\t\t{props.children}\r\n\t\t</Context.Provider>\r\n\t);\r\n};\r\n\r\nconst Consumer = props => \r\n\t<Context.Consumer>\r\n\t\t{props.children}\r\n\t</Context.Consumer>;\r\n\r\nConsumer.propTypes = {\r\n\tchildren: PropTypes.any.isRequired\r\n};\r\n\r\nProvider.propTypes = {\r\n\tchildren: PropTypes.any.isRequired\r\n};\r\n\r\nexport {Context, Provider, Consumer};","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport * as Icon from 'react-icons/md';\r\nimport { paySales, deleteSales, alterSales } from '../services';\r\nimport { useCookies } from 'react-cookie';\r\nimport CheckBill from './checkBill';\r\nimport DatePick from '../components/datePick';\r\nimport { Context } from '../context';\r\n\r\nconst Container = styled.div`\r\n    border-radius: 5px;\r\n    background-color: #fdfdfd;\r\n    box-shadow: 1px 1px 15px #ddd;\r\n    margin: 30px;\r\n    padding: 30px;\r\n    position: relative;\r\n    min-height: 560px;\r\n    flex: 1;\r\n`;\r\n\r\nconst Table = styled.table`\r\n    position: relative;\r\n    width: 100%;\r\n    border-collapse: collapse; \r\n    overflow: auto;\r\n`;\r\n\r\nconst TableHeader = styled.th`\r\n    padding: 0 10px;\r\n    font-weight: 500;\r\n`;\r\n\r\nconst Row = styled.tr`\r\n    height: 40px;\r\n    border-bottom: 1px solid #ddd;\r\n    line-height: 20pt;\r\n    font-weight: 300;\r\n    cursor: pointer;\r\n    text-align: right;\r\n\r\n    &:hover{\r\n        background-color: #eee;\r\n    }\r\n`;\r\n\r\nconst InputContainer = styled.td`\r\n    max-width: 40px;\r\n    height: 40px;\r\n    padding: 5px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n`;\r\n\r\nconst Pagination = styled.section`\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n    justify-content: flex-end;\r\n    margin: 5px 0;\r\n    bottom: 15px;\r\n    right: 15px;\r\n    position: absolute;\r\n`;\r\n\r\nconst ActionList = styled.section`\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    margin: 5px 0;\r\n    padding: 0 15px;\r\n`;\r\n\r\nconst PageArrow = styled.button`\r\n    border: none;\r\n    padding: 5px;\r\n    margin: 0 10px;\r\n    background-color: transparent;\r\n`;\r\n\r\nconst ItemButton = styled.button`\r\n    border: none;\r\n    padding: 5px;\r\n    background-color: transparent;\r\n    font: inherit;\r\n    cursor: pointer;\r\n`;\r\n\r\nconst ActionButton = styled.button`\r\n    border: none;\r\n    padding: 5px;\r\n    background-color: transparent;\r\n`;\r\n\r\nconst RowItem = styled.td`\r\n    padding: 0 10px;\r\n`;\r\n\r\nconst ActionNav = styled.span`\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n`;\r\n\r\nexport default props => {\r\n    const [selected, setSelected] = React.useState([]);\r\n    const [selectedOne, setSelectedOne] = React.useState({});\r\n    const [toggleCheck, setToggleCheck] = React.useState(false);\r\n    const [cookies] = useCookies();\r\n\r\n    const state = React.useContext(Context);\r\n\r\n    return (\r\n        <>\r\n            <Context.Consumer>\r\n                {({ context }) => {\r\n                    const sales = context.sales.data;\r\n                    const {startDate, endDate} = context.sales;\r\n\r\n                    const checkAll = () => {\r\n                        if (sales.docs && sales.docs.length > 0) {\r\n                            const arr = sales.docs.filter(item => item.paid === false);\r\n                            if (arr.length === 0) return false;\r\n                            return arr.length === selected.length;\r\n                        }\r\n                        else return false\r\n                    }\r\n\r\n                    return (\r\n                        <>\r\n                            {toggleCheck &&\r\n                                <CheckBill\r\n                                    data={selectedOne}\r\n                                    onClose={() => setToggleCheck(false)}\r\n                                    onPay={async id => {\r\n                                        const option = window.confirm('Deseja realmente PAGAR esta nota?');\r\n                                        if (option)\r\n                                            await paySales([{ id }], cookies.authorization.access_token)\r\n                                                .then(() => {\r\n                                                    setToggleCheck(false);\r\n                                                    props.onRefresh();\r\n                                                }\r\n                                                ).catch(() => window.alert(\"Falha ao pagar esta fatura.\"));\r\n                                    }}\r\n                                    onAlter={async body => {\r\n                                        const option = window.confirm('Deseja realmente ALTERAR esta nota?');\r\n                                        if (option)\r\n                                            await alterSales([body], cookies.authorization.access_token)\r\n                                                .then(() => {\r\n                                                    setToggleCheck(false);\r\n                                                    props.onRefresh();\r\n                                                }).catch((e) => {\r\n                                                    console.log(e);\r\n                                                    window.alert(\"Falha ao alterar esta fatura.\")\r\n                                                });\r\n                                    }}\r\n                                    onDelete={async id => {\r\n                                        const option = window.confirm('Deseja realmente DELETAR esta nota?');\r\n                                        if (option)\r\n                                            await deleteSales([{ id }], cookies.authorization.access_token)\r\n                                                .then(() => {\r\n                                                    setToggleCheck(false);\r\n                                                    props.onRefresh();\r\n                                                }).catch(() => window.alert(\"Falha ao deletar esta fatura.\"));\r\n                                    }}\r\n                                />}\r\n                            <Container>\r\n                                <ActionList>\r\n                                    <h4>Vendas</h4>\r\n                                    <ActionNav>\r\n                                        <label>\r\n                                            Entre\r\n                                            <DatePick\r\n                                                date={startDate}\r\n                                                onChange={(e) => {\r\n                                                    props.onDateChange(state.context.sellers.currentPage, { start: e.target.valueAsDate, end: endDate })\r\n                                                }}\r\n                                            />\r\n                                        </label>\r\n                                        <label>\r\n                                            e\r\n                                            <DatePick\r\n                                                date={endDate}\r\n                                                onChange={(e) => {\r\n                                                    props.onDateChange(state.context.sellers.currentPage, { start: startDate, end: e.target.valueAsDate })\r\n\r\n                                                }}\r\n                                            />\r\n                                        </label>\r\n                                        <ActionButton\r\n                                            onClick={() => props.onRefresh()}\r\n                                        >\r\n                                            <Icon.MdRefresh size={24} />\r\n                                        </ActionButton>\r\n                                        <ActionButton\r\n                                            disabled={selected.length === 0}\r\n                                            onClick={() => {\r\n                                                const option = window.confirm(`Deseja realmente PAGAR estes ${selected.length} items?`);\r\n                                                if (option)\r\n                                                    props.onPay(selected, state.context.sales.currentPage);\r\n                                            }}\r\n                                        >\r\n                                            <Icon.MdAttachMoney size={24} />\r\n                                        </ActionButton>\r\n                                        <ActionButton\r\n                                            disabled={selected.length === 0}\r\n                                            onClick={() => {\r\n                                                const option = window.confirm(`Deseja realmente DELETAR estes ${selected.length} items?`);\r\n                                                if (option)\r\n                                                    props.onDelete(selected, state.context.sales.currentPage)\r\n                                            }}\r\n                                        >\r\n                                            <Icon.MdDelete size={24} />\r\n                                        </ActionButton>\r\n                                    </ActionNav>\r\n                                </ActionList>\r\n                                <Table>\r\n                                    <tbody>\r\n                                        <tr style={{ textAlign: 'right' }}>\r\n                                            <InputContainer>\r\n                                                <input\r\n                                                    checked={checkAll()}\r\n                                                    type=\"checkbox\"\r\n                                                    onChange={(e) => {\r\n                                                        if (sales.docs) {\r\n                                                            if (!e.target.checked) return setSelected([]);\r\n\r\n                                                            const arr = sales.docs.filter(item => item.paid === false);\r\n                                                            setSelected(arr);\r\n                                                        };\r\n                                                    }}\r\n                                                />\r\n                                            </InputContainer>\r\n                                            <TableHeader style={{ textAlign: 'left' }}>Nº do pedido</TableHeader>\r\n                                            <TableHeader>Valor</TableHeader>\r\n                                            <TableHeader>Vendedor</TableHeader>\r\n                                            <TableHeader>Data</TableHeader>\r\n                                            <TableHeader>Situação</TableHeader>\r\n                                        </tr>\r\n                                        {sales.docs && sales.docs.map(item => {\r\n                                            return (\r\n                                                <Row key={item.id}>\r\n                                                    <InputContainer>\r\n                                                        <input type=\"checkbox\"\r\n                                                            disabled={item.paid}\r\n                                                            checked={selected.includes(item)}\r\n                                                            onChange={() => {\r\n                                                                const arr = selected;\r\n                                                                if (!selected.includes(item)) {\r\n                                                                    setSelected(arr.concat([item]));\r\n                                                                } else {\r\n                                                                    setSelected(arr.filter(i => i !== item))\r\n                                                                }\r\n                                                            }} />\r\n                                                    </InputContainer>\r\n                                                    <RowItem style={{ textAlign: \"left\" }}>                                    <ItemButton\r\n                                                        onClick={() => {\r\n                                                            setSelectedOne(item);\r\n                                                            setToggleCheck(true);\r\n                                                        }}\r\n                                                    >{item.code}</ItemButton></RowItem>\r\n                                                    <RowItem>R$ {Number(item.value).toFixed(2).replace(\".\", \",\")}</RowItem>\r\n                                                    <RowItem>{item.seller.name}</RowItem>\r\n                                                    <RowItem>{new Date(item.createdAt).toLocaleDateString()}</RowItem>\r\n                                                    <RowItem style={{ color: item.paid ? \"#00de89\" : \"tomato\" }}>{item.paid ? \"Pago\" : \"Aguardando pagamento\"}</RowItem>\r\n                                                </Row>\r\n                                            );\r\n                                        })}\r\n                                    </tbody>\r\n                                </Table>\r\n                                <Pagination>\r\n                                    <span style={{ fontSize: \"10pt\" }}>\r\n                                        Exibindo {sales.count}-{sales.totalCount}\r\n                                    </span>\r\n                                    <span>\r\n                                        <PageArrow\r\n                                            disabled={sales.currentPage === 1}\r\n                                            onClick={() => {\r\n                                                props.previousPage(sales.currentPage);\r\n                                                setSelected([]);\r\n                                            }}\r\n                                        >\r\n                                            <Icon.MdKeyboardArrowLeft size={18} />\r\n                                        </PageArrow>\r\n                                        <PageArrow\r\n                                            type=\"button\"\r\n                                            disabled={sales.pages === sales.currentPage}\r\n                                            onClick={() => {\r\n                                                props.nextPage(sales.currentPage);\r\n                                                setSelected([]);\r\n                                            }}\r\n                                        >\r\n                                            <Icon.MdKeyboardArrowRight size={18} />\r\n                                        </PageArrow>\r\n                                    </span>\r\n                                </Pagination>\r\n                            </Container>\r\n\r\n                        </>\r\n                    )\r\n                }}\r\n\r\n            </Context.Consumer>\r\n        </>\r\n    );\r\n}","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst Select = styled.select`\r\n    border: none;\r\n    color: #333;\r\n    height: 30px;\r\n    border: 1px solid #ddd;\r\n    width: 100%;\r\n    border-radius: 3px;\r\n    padding: 5px;\r\n`;\r\n\r\nconst Option = styled.option`\r\n    color: #333;\r\n`;\r\n\r\nconst Dropdown = (props) => {\r\n    const { data } = props;\r\n    return(\r\n        <Select {...props} defaultValue=\"seller\">\r\n            {data.map(item => \r\n                <Option key={item.value} value={item.value}>{item.label}</Option>\r\n            )}\r\n        </Select>\r\n    )\r\n}\r\n\r\nexport default Dropdown;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport Dropdown from './dropdown';\r\n\r\nconst Container = styled.div`\r\n    z-index: 2;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    background-color: #333;\r\n    opacity: 0.15;\r\n    position: absolute;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n`;\r\n\r\nconst Box = styled.div`\r\n    width: 25vw;\r\n    padding: 15px;\r\n    background-color: white;\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    z-index: 3;\r\n    display: flex;\r\n    flex-direction: column;\r\n`;\r\n\r\nconst Title = styled.p`\r\n    font-size: 14pt;\r\n    font-weight: 500;\r\n    margin: 0 0 15px 0;\r\n`;\r\n\r\nconst Input = styled.input`\r\n    width: 100%;\r\n    height: 30px;\r\n    border: 1px solid #ddd;\r\n    border-radius: 3px;\r\n    margin: 5px 0;\r\n    padding: 0 10px;\r\n    color: #333;\r\n`;\r\n\r\nconst Label = styled.label`\r\n    color: #333;\r\n    font-size: 10pt;\r\n    font-weight: 300;\r\n    margin: 5px 0;\r\n`;\r\n\r\nconst Button = styled.button`\r\n    width: 100%;\r\n    height: 30px;\r\n    border: none;\r\n    border-radius: 3px;\r\n    margin: 5px 0;\r\n    background-color: #00de89;\r\n    color: white;\r\n    font-weight: 500;\r\n    transition: filter 0.25s ease;\r\n\r\n    &:hover{\r\n        filter: brightness(.95);\r\n    }\r\n`;\r\n\r\nconst tabOnEnter = (element) => {\r\n    return (event) => {\r\n        if(event.key === \"Enter\")\r\n            document.getElementById(element).focus();\r\n    }\r\n}\r\n\r\nconst AddUser = props => {\r\n    const [state, setState] = React.useState({password: 'default'});\r\n\r\n    React.useEffect(() => {\r\n        const listener = e => {\r\n            if(e.key === \"Escape\")\r\n                props.onClose();\r\n        }\r\n        document.addEventListener('keydown', listener)\r\n\r\n        return () => {\r\n            document.removeEventListener('keydown', listener)\r\n        }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n    return(\r\n        <>\r\n        <Container/>\r\n        <Box>\r\n            <Title>\r\n                Adicionar vendedor\r\n            </Title>\r\n            <Label>\r\n                Nome: \r\n                <Input id=\"NomeDoUsuario\" onKeyDown={tabOnEnter('LoginDoUsuario')} onChange={(e) => setState({...state, name: e.target.value })} type=\"text\" placeholder={\"ex.: 12\"} />\r\n            </Label>\r\n            <Label>\r\n                Login:\r\n                <Input id=\"LoginDoUsuario\" onKeyDown={e => tabOnEnter(e, 'AtributosDoUsuario')} onChange={(e) => setState({...state, code: e.target.value })} type=\"text\" placeholder={\"ex.: 032549899\"} />\r\n            </Label>\r\n            <Label>\r\n                Atributos:\r\n                <Dropdown\r\n                    id=\"AtributosDoUsuario\"\r\n                    onChange={(e) => setState({...state, role: e.target.value })}\r\n                    data={[\r\n                    {label: \"Vendedor\", value: \"seller\"},\r\n                    {label: \"Caixa\", value: \"cashier\"}\r\n                ]}/>\r\n            </Label>\r\n            <Button\r\n            onClick={()=> {\r\n                if(!state.name){\r\n                    window.alert(\"Por favor, informe o nome do vendedor.\")\r\n                } else if(!state.code){\r\n                    window.alert(\"Por favor, informe login do vendedor.\")\r\n                } else if(!state.role){\r\n                    window.alert(\"Por favor, informe o atributo.\")\r\n                }else\r\n                    props.onSubmit(state);\r\n            }}\r\n            >Salvar</Button>\r\n            <Button\r\n            style={{backgroundColor: \"tomato\"}}\r\n            onClick={()=> props.onClose()}\r\n            >Cancelar</Button>\r\n        </Box>\r\n        </>\r\n    );\r\n}\r\nexport default AddUser;","import React, { useState, useEffect, useRef } from 'react';\r\nimport styled from 'styled-components';\r\nimport {useCookies} from 'react-cookie';\r\nimport {getResetCode} from '../services';\r\n\r\nconst Container = styled.div`\r\n    z-index: 2;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    background-color: #333;\r\n    opacity: 0.15;\r\n    position: fixed;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n`;\r\n\r\nconst Box = styled.div`\r\n    width: 25vw;\r\n    padding: 15px;\r\n    background-color: white;\r\n    position: fixed;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    z-index: 3;\r\n    display: flex;\r\n    flex-direction: column;\r\n    min-width: 320px;\r\n`;\r\n\r\nconst Title = styled.p`\r\n    font-size: 14pt;\r\n    font-weight: 500;\r\n    margin: 0 0 15px 0;\r\n`;\r\n\r\nconst Input = styled.input`\r\n    width: 100%;\r\n    height: 30px;\r\n    border: 1px solid #ddd;\r\n    border-radius: 3px;\r\n    margin: 5px 0;\r\n    padding: 0 10px;\r\n    color: #333;\r\n    text-align: right;\r\n`;\r\n\r\nconst Label = styled.label`\r\n    color: #333;\r\n    font-size: 10pt;\r\n    font-weight: 300;\r\n    margin: 5px 0;\r\n`;\r\n\r\nconst Button = styled.button`\r\n    width: 100%;\r\n    height: 30px;\r\n    border: none;\r\n    border-radius: 3px;\r\n    margin: 5px 0;\r\n    background-color: ${props => {\r\n        switch(props.id){\r\n            case 'pay': return \"#00de89\";\r\n            case 'alter': return \"#ffc219\";\r\n            case 'delete': return \"tomato\";\r\n            default: return \"#00de89\"\r\n        }\r\n    }};\r\n    color: white;\r\n    font-weight: 500;\r\n    transition: filter 0.25s ease;\r\n\r\n    &:disabled {\r\n        background-color: lightgray;\r\n    }\r\n\r\n    &:hover{\r\n        filter: brightness(.95);\r\n    }\r\n`;\r\n\r\nconst Quit = styled.button`\r\n    width: 16px;\r\n    height: 16px;\r\n    border: none;\r\n    border-radius: 8px;\r\n    position: absolute;\r\n    top: 15px;\r\n    right: 15px;\r\n    background-color: tomato;\r\n    color: white;\r\n    font-weight: 500;\r\n    transition: filter 0.25s ease;\r\n\r\n    &:hover{\r\n        filter: brightness(.95);\r\n    }\r\n`;\r\n\r\nconst ResetMessage = props => {\r\n    const [cookies] = useCookies();\r\n    const [url, setUrl] = useState('');\r\n    const [login, setLogin] = useState('');\r\n\r\n    const inputUrl = useRef();\r\n\r\n    React.useEffect(() => {\r\n        const listener = e => {\r\n            if(e.key === \"Escape\")\r\n                props.onClose();\r\n        }\r\n        document.addEventListener('keydown', listener);\r\n\r\n        return () => {\r\n            document.removeEventListener('keydown', listener)\r\n        }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if(props.user && props.user.length > 0)\r\n            setLogin(props.user.shift().code)\r\n    }, [props.user])\r\n\r\n    const makeUrl = (user, code) => {\r\n        if(user && code){\r\n            return `${window.location.href.split(window.location.pathname)[0]}/nova-senha?code=${code}&user=${user}`;\r\n        }\r\n        return '';\r\n    }\r\n\r\n    return(\r\n        <>\r\n        <Container/>\r\n        <Box>\r\n            <Title>\r\n                Solicitar nova senha\r\n            </Title>\r\n            <Label>\r\n                Login: \r\n                <Input\r\n                    value={login}\r\n                    disabled={true}\r\n                    type=\"text\"\r\n                />\r\n            </Label>\r\n            <Label>\r\n                Gerar código de autorização: \r\n                <Button\r\n                onClick={async ()=> {\r\n                    await getResetCode({username: login}, cookies.authorization.access_token)\r\n                    .then(data => {\r\n                        const str = makeUrl(data.username, data.code);\r\n                        setUrl(str);\r\n                    })\r\n                }}\r\n                >Gerar</Button>\r\n                <Input\r\n                    ref={inputUrl}\r\n                    value={url}\r\n                    style={{textAlign: 'center'}}\r\n                    readOnly\r\n                    onClick={() => {\r\n                        inputUrl.current.select();\r\n                        if(document.execCommand('copy')){\r\n                            alert(\"Link copiado para o clipboard!\");\r\n                        }else {\r\n                            alert(\"Falha ao copiar\");\r\n                        }\r\n                    }}\r\n                    type=\"text\"\r\n                />\r\n            </Label>\r\n\r\n            <Quit\r\n                onClick={()=> props.onClose()}\r\n            >&times;</Quit>\r\n        </Box>\r\n        </>\r\n    );\r\n}\r\nexport default ResetMessage;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport * as Icon from 'react-icons/md';\r\nimport DatePick from '../components/datePick';\r\nimport AddUser from './addUser';\r\nimport ResetMessage from './resetMessage';\r\nimport { addSeller } from '../services';\r\nimport {useCookies} from 'react-cookie';\r\nimport { Context } from '../context';\r\n\r\nconst Container = styled.div`\r\n    border-radius: 5px;\r\n    background-color: #fdfdfd;\r\n    box-shadow: 1px 1px 15px #ddd;\r\n    margin: 30px;\r\n    padding: 30px;\r\n    position: relative;\r\n    min-height: 560px;\r\n    flex: 1;\r\n`;\r\n\r\nconst Table = styled.table`\r\n    position: relative;\r\n    width: 100%;\r\n    border-collapse: collapse; \r\n    overflow: auto;\r\n`;\r\n\r\nconst TableHeader = styled.th`\r\n    padding: 0 10px;\r\n    font-weight: 500;\r\n`;\r\n\r\nconst Row = styled.tr`\r\n    height: 40px;\r\n    border-bottom: 1px solid #ddd;\r\n    line-height: 20pt;\r\n    font-weight: 300;\r\n    cursor: pointer;\r\n    text-align: right;\r\n\r\n    &:hover{\r\n        background-color: #eee;\r\n    }\r\n`;\r\n\r\nconst InputContainer = styled.td`\r\n    max-width: 40px;\r\n    height: 40px;\r\n    padding: 5px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n`;\r\n\r\nconst Pagination = styled.section`\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n    justify-content: flex-end;\r\n    margin: 5px 0;\r\n    bottom: 30px;\r\n    right: 15px;\r\n    position: absolute;\r\n    background-color: white;\r\n`;\r\n\r\nconst ActionList = styled.section`\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    margin: 5px 0;\r\n    padding: 0 15px;\r\n`;\r\n\r\nconst PageArrow = styled.button`\r\n    border: none;\r\n    padding: 5px;\r\n    margin: 0 10px;\r\n    background-color: transparent;\r\n`;\r\n\r\nconst ActionButton = styled.button`\r\n    border: none;\r\n    padding: 5px;\r\n    background-color: transparent;\r\n`;\r\n\r\nconst RowItem = styled.td`\r\n    padding: 0 10px;\r\n`;\r\n\r\nconst ActionNav = styled.span`\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n`;\r\n\r\nconst Label = styled.label`\r\n    font-size: 10pt;\r\n`;\r\n\r\nexport default props => {\r\n    const [selected, setSelected] = React.useState([]);\r\n    const [addUser, setAddUser] = React.useState(false);\r\n    const [toggleReset, setToggleReset] = React.useState(false);\r\n    const [cookies] = useCookies();\r\n\r\n    const state = React.useContext(Context);\r\n\r\n    return(\r\n        <Context.Consumer>\r\n            {({context}) => {\r\n                const sellers = context.sellers.data;\r\n                const {startDate, endDate} = context.sellers;\r\n\r\n                return(\r\n                    <>\r\n                    {toggleReset &&\r\n                    <ResetMessage\r\n                        user={selected}\r\n                        onClose={()=> setToggleReset(false)}\r\n                    />}\r\n                    {addUser && \r\n                    <AddUser\r\n                    onSubmit={async data => {\r\n                        setAddUser(false);\r\n                        await addSeller(data, cookies.authorization.access_token);\r\n                        props.onRefresh(sellers.currentPage);\r\n                    }}\r\n                    onClose={() => {\r\n                        setAddUser(false);\r\n                    }}/>}\r\n                    <Container>\r\n                        <ActionList>\r\n                            <h4>\r\n                                Vendedores\r\n                            </h4>\r\n                            <ActionNav>\r\n                                <Label>\r\n                                    Entre\r\n                                    <DatePick\r\n                                    date={startDate}\r\n                                    onChange={(e) => {\r\n                                        props.onDateChange(state.context.sellers.currentPage, {start: e.target.valueAsDate, end: endDate})\r\n                                    }} />\r\n                                </Label>\r\n                                <Label>\r\n                                    e\r\n                                    <DatePick\r\n                                    date={endDate}\r\n                                    onChange={(e)=> {\r\n                                        props.onDateChange(state.context.sellers.currentPage, {start: startDate, end: e.target.valueAsDate})\r\n                                    }}\r\n                                    />\r\n                                </Label>\r\n                                <ActionButton\r\n                                    onClick={() => props.onRefresh(sellers.currentPage)}\r\n                                >\r\n                                    <Icon.MdRefresh size={24} />\r\n                                </ActionButton>\r\n                                <ActionButton\r\n                                    disabled={selected.length === 0}\r\n                                    onClick={() => {\r\n                                        setToggleReset(true);\r\n                                    }}\r\n                                >\r\n                                    <Icon.MdVpnKey size={24} />\r\n                                </ActionButton>\r\n                                <ActionButton\r\n                                    onClick={() => setAddUser(true)}\r\n                                >\r\n                                    <Icon.MdAdd size={24} />\r\n                                </ActionButton>\r\n                                <ActionButton\r\n                                disabled={selected.length === 0}\r\n                                onClick={()=> props.onDelete(selected, sellers.currentPage)}\r\n                                >\r\n                                    <Icon.MdDelete size={24} />\r\n                                </ActionButton>\r\n                            </ActionNav>\r\n                        </ActionList>\r\n                        <Table>\r\n                            <tbody>\r\n                                <tr style={{textAlign: 'right'}}>\r\n                                    <InputContainer>\r\n                                        <input type=\"checkbox\" checked={sellers.docs.length === selected.length} onChange={()=>{setSelected(sellers.docs)}} />\r\n                                    </InputContainer>\r\n                                    <TableHeader style={{textAlign: 'left'}}>ID</TableHeader>\r\n                                    <TableHeader>Nome</TableHeader>\r\n                                    <TableHeader>Cargo</TableHeader>\r\n                                    <TableHeader>Total de vendas</TableHeader>\r\n                                    <TableHeader>Total pago</TableHeader>\r\n                                    <TableHeader>Total em aberto</TableHeader>\r\n                                    <TableHeader>Comissão (0,25%)</TableHeader>\r\n                                </tr>\r\n                                {sellers.docs && sellers.docs.map(item => {\r\n                                    if(item.role === 'admin') return null;\r\n            \r\n                                    const total = item.sales.reduce((acc, sale) => acc + sale.value, 0);\r\n            \r\n                                    let open = 0;\r\n                                    let paid = 0;\r\n            \r\n                                    item.sales.forEach((sale) =>{\r\n                                        if(sale.paid) paid += sale.value;\r\n                                        else open += sale.value;\r\n                                    }, 0);\r\n            \r\n                                    const commission = paid * 0.0025;\r\n            \r\n                                    return (\r\n                                        <Row key={item.id}>\r\n                                            <InputContainer>\r\n                                                <input type=\"checkbox\"\r\n                                                checked={selected.includes(item)}\r\n                                                onChange={()=>{\r\n                                                    const arr = selected;\r\n                                                    if(!selected.includes(item)){\r\n                                                        setSelected(arr.concat([item]));\r\n                                                    } else {\r\n                                                        setSelected(arr.filter(i => i !== item))\r\n                                                    }\r\n                                                }} />\r\n                                            </InputContainer>\r\n                                            <RowItem style={{ textAlign: \"left\" }}>{item.id}</RowItem>\r\n                                            <RowItem>{item.name}</RowItem>\r\n                                            <RowItem>{item.role === 'seller' ? \"Vendedor\" : \"Op. de caixa\"}</RowItem>\r\n                                            <RowItem>R$ {Number(total).toFixed(2).replace(\".\", \",\")}</RowItem>\r\n                                            <RowItem>R$ {Number(paid).toFixed(2).replace(\".\", \",\")}</RowItem>\r\n                                            <RowItem>R$ {Number(open).toFixed(2).replace(\".\", \",\")}</RowItem>\r\n                                            <RowItem>R$ {Number(commission).toFixed(2).replace(\".\", \",\")}</RowItem>\r\n                                        </Row>\r\n                                    );\r\n                                })}\r\n                            </tbody>\r\n                        </Table>\r\n                        <Pagination>\r\n                            <span style={{fontSize: \"10pt\"}}>\r\n                            Exibindo {sellers.count}-{sellers.totalCount}\r\n                            </span>\r\n                            <span>\r\n                                <PageArrow\r\n                                    disabled={sellers.currentPage === 1}\r\n                                    onClick={() => {\r\n                                        props.previousPage(sellers.currentPage);\r\n                                        setSelected([]);\r\n                                    }}\r\n                                >\r\n                                    <Icon.MdKeyboardArrowLeft size={18} />\r\n                                </PageArrow>\r\n                                <PageArrow\r\n                                    type=\"button\"\r\n                                    disabled={sellers.pages === sellers.currentPage}\r\n                                    onClick={() =>{\r\n                                        props.nextPage(sellers.currentPage);\r\n                                        setSelected([]);\r\n                                    }}\r\n                                >\r\n                                    <Icon.MdKeyboardArrowRight size={18} />\r\n                                </PageArrow>\r\n                            </span>\r\n                        </Pagination>\r\n                    </Container>\r\n                    </>\r\n                );\r\n            }}\r\n        </Context.Consumer>\r\n    );\r\n}","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport {useCookies} from 'react-cookie';\r\nimport jwt from 'jsonwebtoken';\r\n\r\nconst Container = styled.nav`\r\n    left: 0;\r\n    right: 0;\r\n    top: 0;\r\n    height: 90px;\r\n    position: fixed;\r\n    z-index: 1;\r\n    display: flex;\r\n    flex-direction: column;\r\n`;\r\n\r\nconst Main = styled.div`\r\n    width: 100%;\r\n    height: 60px;\r\n    background-color: #00de89;\r\n    box-shadow: 1px 1px 8px #ddd;\r\n    padding: 0 30px;\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n`;\r\n\r\nconst Bar = styled.div`\r\n    width: 100%;\r\n    height: 30px;\r\n    background-color: whitesmoke;\r\n    box-shadow: 1px 1px 8px #ddd;\r\n    padding: 0 30px;\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: flex-end;\r\n    align-items: center;\r\n`;\r\n\r\nconst Title = styled.span`\r\n    font-weight: 500;\r\n    font-size: 16pt;\r\n    color: white;\r\n`;\r\n\r\nconst NavButtons = styled.div`\r\n    font-weight: 500;\r\n    font-size: 12pt;\r\n    color: white;\r\n`;\r\n\r\nconst Button = styled.button`\r\n    font-weight: 300;\r\n    font-size: 10pt;\r\n    color: white;\r\n    margin-left: 15px;\r\n    cursor: pointer;\r\n    border: none;\r\n    background-color: transparent;\r\n    transition: all 0.25s ease;\r\n\r\n    &:hover{\r\n        text-decoration: underline;\r\n    }\r\n`;\r\n\r\nconst ItemButton = styled.button`\r\n    height: 15px;\r\n    margin: 0 0 0 15px;\r\n    border: none;\r\n    background-color: transparent;\r\n    font-size: 10pt;\r\n    transition: all .25s ease;\r\n    cursor: pointer;\r\n\r\n    &:hover{\r\n        text-decoration: underline;\r\n    }\r\n`;\r\n\r\nexport default props => {\r\n    const [cookies, , removeCookies] = useCookies();\r\n\r\n    const user = jwt.decode(cookies.authorization.access_token);\r\n\r\n    return (\r\n        <Container>\r\n            <Main>\r\n            <Title>\r\n                DedéSoft v0.0.1\r\n            </Title>\r\n            <NavButtons>\r\n                <span>Bem vindo, {user.name}!</span>\r\n                <Button\r\n                onClick={()=>{\r\n                    removeCookies('authorization');\r\n                    window.location.reload();\r\n                }}\r\n                >Sair</Button>\r\n            </NavButtons>\r\n            </Main>\r\n            <Bar style={{display: props.items ? null : \"none\"}}>            \r\n                {props.items && props.items.map(item =>{\r\n                    return(\r\n                    <ItemButton\r\n                    key={item.path}\r\n                    onClick={()=> props.onChange(item.path)}\r\n                    >{item.name}</ItemButton>\r\n                    );\r\n                })}\r\n            </Bar>\r\n        </Container>\r\n    );\r\n}","import React from 'react';\r\nimport TableSales from '../components/tableSalesAdmin';\r\nimport TableSellers from '../components/tableSellers';\r\nimport NavBar from '../components/navbar';\r\nimport styled from 'styled-components';\r\nimport {Context} from '../context';\r\nimport {useCookies} from 'react-cookie';\r\nimport {\r\n  getSalesAll,\r\n  deleteSales,\r\n  paySales,\r\n  getSellers,\r\n  deleteSellers,\r\n} from '../services'\r\n\r\nconst Container = styled.div`\r\n  padding: 90px 0 0 0;\r\n  display: flex;\r\n  flex: row;\r\n  height: 100%;\r\n`;\r\n\r\nconst Dashboard = props => {\r\n  const [page, setPage] = React.useState('sales');\r\n  const [cookies, , removeCookies] = useCookies();\r\n  const state = React.useContext(Context);\r\n\r\n  const updateSellers = async (page, range) => {\r\n    const sellersData = await getSellers(page, cookies.authorization.access_token, range)\r\n    .then(d => {\r\n      return d;\r\n    })\r\n    .catch((e) => {\r\n      window.alert(e.message);\r\n      removeCookies('authorization');\r\n      window.location.reload();\r\n    })\r\n\r\n    state.setContext({\r\n      ...state.context, \r\n      sellers: {\r\n        startDate: range.start,\r\n        endDate: range.end,\r\n        data: sellersData\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n  const updateSales = async (page, range) => {\r\n    const salesData = await getSalesAll(page, cookies.authorization.access_token, range)\r\n    .then(d => {\r\n      return d;\r\n    })\r\n    .catch((e) => {\r\n      window.alert(e.message);\r\n      removeCookies('authorization');\r\n      window.location.reload();\r\n    })\r\n\r\n    state.setContext({\r\n      ...state.context, \r\n      sales: {\r\n        data: salesData,\r\n        startDate: range.start,\r\n        endDate: range.end,\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n  const updateData = async (pageSellers, pageSales) => {\r\n    const salesData = await getSalesAll(pageSales, cookies.authorization.access_token)\r\n    .then(d => {\r\n      return d;\r\n    })\r\n    .catch((e) => {\r\n      window.alert(e.message);\r\n      removeCookies('authorization');\r\n      window.location.reload();\r\n    })\r\n\r\n    const sellersData = await getSellers(pageSellers, cookies.authorization.access_token)\r\n    .then(d => {\r\n      return d;\r\n    })\r\n    .catch((e) => {\r\n      window.alert(e.message);\r\n      removeCookies('authorization');\r\n      window.location.reload();\r\n    })\r\n\r\n    state.setContext({\r\n      ...state.context, \r\n      sales: {\r\n        ...state.context.sales,\r\n        data: salesData\r\n      },\r\n      sellers: {\r\n        ...state.context.sellers,\r\n        data: sellersData\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    updateData(1, 1);\r\n  }\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  , []);\r\n\r\n  const Sellers = () => <TableSellers\r\n    nextPage={async page => {\r\n        await updateData(page + 1, 1);\r\n    }}\r\n    previousPage={async page => {\r\n        await updateData(page - 1, 1);\r\n    }}\r\n    onDelete={async (sales, page) => {\r\n        await deleteSellers(sales, cookies.authorization.access_token);\r\n        await updateData(page, 1);\r\n    }}\r\n    onRefresh={async (page)=> {\r\n      await updateData(page, 1);\r\n    }}\r\n\r\n    onDateChange={async (page, range) => {\r\n      await updateSellers(page, range);\r\n    }}\r\n    />\r\n\r\nconst Sales = () => \r\n    <TableSales\r\n        nextPage={async page => {\r\n          await updateData(1, page + 1);\r\n        }}\r\n        previousPage={async page => {\r\n          await updateData(1, page - 1);\r\n        }}\r\n        onDelete={async (sales, page) => {\r\n          await deleteSales(sales, cookies.authorization.access_token);\r\n          await updateData(1, page);\r\n        }}\r\n        onPay={async (sales, page) => {\r\n          await paySales(sales, cookies.authorization.access_token);\r\n          await updateData(1, page);\r\n        }}\r\n        onDateChange={async (page, range) => {\r\n          await updateSales(page, range);\r\n        }}\r\n        onRefresh={async (page) => {\r\n          await updateData(1, page);\r\n        }}\r\n        />\r\n\r\n  return(\r\n    <Container>\r\n      <NavBar\r\n        items={[\r\n          {name: \"Vendas\", path: 'sales'},\r\n          {name: \"Vendedores\", path: 'sellers'},\r\n        ]}\r\n        onChange={(p) => {\r\n          setPage(p);\r\n        }}\r\n      />\r\n      {page === 'sales' && <Sales />}\r\n      {page === 'sellers' && <Sellers />}\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default Dashboard;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport {useCookies} from 'react-cookie';\r\nimport jwt from 'jsonwebtoken';\r\n\r\nconst Container = styled.div`\r\n    z-index: 2;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    background-color: #333;\r\n    opacity: 0.15;\r\n    position: fixed;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n`;\r\n\r\nconst Box = styled.div`\r\n    padding: 15px;\r\n    background-color: white;\r\n    position: fixed;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    z-index: 3;\r\n    display: flex;\r\n    flex-direction: column;\r\n    width: 320px;\r\n`;\r\n\r\nconst Title = styled.p`\r\n    font-size: 14pt;\r\n    font-weight: 500;\r\n    margin: 0 0 15px 0;\r\n`;\r\n\r\nconst Input = styled.input`\r\n    width: 100%;\r\n    height: 30px;\r\n    border: 1px solid #ddd;\r\n    border-radius: 3px;\r\n    margin: 5px 0;\r\n    padding: 0 10px;\r\n    color: #333;\r\n`;\r\n\r\nconst Label = styled.label`\r\n    color: #333;\r\n    font-size: 10pt;\r\n    font-weight: 300;\r\n    margin: 5px 0;\r\n`;\r\n\r\nconst Button = styled.button`\r\n    width: 100%;\r\n    height: 30px;\r\n    border: none;\r\n    border-radius: 3px;\r\n    margin: 5px 0;\r\n    background-color: #00de89;\r\n    color: white;\r\n    font-weight: 500;\r\n    transition: filter 0.25s ease;\r\n\r\n    &:hover{\r\n        filter: brightness(.95);\r\n    }\r\n`;\r\n\r\nconst tabOnEnter = (element) => {\r\n    return (event) => {\r\n        if(event.key === \"Enter\")\r\n            document.getElementById(element).focus();\r\n    }\r\n}\r\n\r\nconst sendOnEnter = (run) => {\r\n    return (event) => {\r\n        if(event.key === \"Enter\")\r\n            run();\r\n    }\r\n}\r\nconst AddBill = props => {\r\n    const [state, setState] = React.useState({});\r\n    const [cookies] = useCookies();\r\n    const user = jwt.decode(cookies.authorization.access_token);\r\n\r\n    React.useEffect(() => {\r\n        const listener = e => {\r\n            if(e.key === \"Escape\")\r\n                props.onClose();\r\n        }\r\n        document.addEventListener('keydown', listener);\r\n        document.getElementById('numeroDoPedido').focus();\r\n\r\n        return () => {\r\n            document.removeEventListener('keydown', listener)\r\n        }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n    return(\r\n        <>\r\n        <Container />\r\n        <Box>\r\n            <Title>\r\n                Adicionar pedido\r\n            </Title>\r\n            <Label>\r\n                Vendedor: \r\n                <Input\r\n                value={`${user.code} - ${user.name}`}\r\n                disabled={true}\r\n                type=\"text\"\r\n                />\r\n            </Label>\r\n            <Label>\r\n                Nº do pedido:\r\n                <Input\r\n                id=\"numeroDoPedido\"\r\n                onKeyDown={tabOnEnter('valorDoPedido')}\r\n                onChange={(e) => setState({...state, code: e.target.value })}\r\n                type=\"text\"\r\n                placeholder={\"ex.: 032549899\"}\r\n                />\r\n            </Label>\r\n            <Label>\r\n                Valor do pedido (R$):\r\n                <Input\r\n                id=\"valorDoPedido\"\r\n                onKeyDown={sendOnEnter(() => {\r\n                    if(!state.code){\r\n                        window.alert(\"Por favor, informe Nº do pedido.\")\r\n                    } else if(!state.value){\r\n                        window.alert(\"Por favor, informe o valor do pedido.\")\r\n                    }else\r\n                        props.onSubmit({...state, seller_id: user.id});\r\n                })}\r\n                onChange={(e) => setState({...state, value: Number(e.target.value.replace(\",\", \".\")) })}\r\n                type=\"text\"\r\n                pattern=\"[0-9]\"\r\n                placeholder={\"ex.: 100,50\"}\r\n                />\r\n            </Label>\r\n            <Button\r\n            onClick={()=> {\r\n                if(!state.code){\r\n                    window.alert(\"Por favor, informe Nº do pedido.\")\r\n                } else if(!state.value){\r\n                    window.alert(\"Por favor, informe o valor do pedido.\")\r\n                }else\r\n                    props.onSubmit({...state, seller_id: user.id});\r\n            }}\r\n            >Salvar</Button>\r\n            <Button\r\n            style={{backgroundColor: \"tomato\"}}\r\n            onClick={()=> props.onClose()}\r\n            >Cancelar</Button>\r\n        </Box>\r\n        </>\r\n    );\r\n}\r\nexport default AddBill;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport * as Icon from 'react-icons/md';\r\nimport AddBill from './addBill';\r\nimport CheckBill from './checkBill';\r\nimport {addSale, alterSales, deleteSales} from '../services';\r\nimport {useCookies} from 'react-cookie';\r\nimport { Context } from '../context';\r\n\r\nconst Container = styled.div`\r\n    border-radius: 5px;\r\n    background-color: #fdfdfd;\r\n    box-shadow: 1px 1px 15px #ddd;\r\n    margin: 30px;\r\n    padding: 30px;\r\n    position: relative;\r\n    min-height: 560px;\r\n    flex: 1;\r\n`;\r\n\r\nconst Table = styled.table`\r\n    position: relative;\r\n    width: 100%;\r\n    border-collapse: collapse; \r\n    overflow: auto;\r\n`;\r\n\r\nconst TableHeader = styled.th`\r\n    padding: 0 10px;\r\n    font-weight: 500;\r\n`;\r\n\r\nconst Row = styled.tr`\r\n    height: 40px;\r\n    border-bottom: 1px solid #ddd;\r\n    line-height: 20pt;\r\n    font-weight: 300;\r\n    cursor: pointer;\r\n    text-align: right;\r\n\r\n    &:hover{\r\n        background-color: #eee;\r\n    }\r\n`;\r\n\r\nconst InputContainer = styled.td`\r\n    max-width: 40px;\r\n    height: 40px;\r\n    padding: 5px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n`;\r\n\r\nconst Pagination = styled.section`\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n    justify-content: flex-end;\r\n    margin: 5px 0;\r\n    bottom: 15px;\r\n    right: 15px;\r\n    position: absolute;\r\n`;\r\n\r\nconst ActionList = styled.section`\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    margin: 5px 0;\r\n    padding: 0 15px;\r\n`;\r\n\r\nconst PageArrow = styled.button`\r\n    border: none;\r\n    padding: 5px;\r\n    margin: 0 10px;\r\n    background-color: transparent;\r\n`;\r\n\r\nconst ItemButton = styled.button`\r\n    border: none;\r\n    padding: 5px;\r\n    background-color: transparent;\r\n    font: inherit;\r\n    cursor: pointer;\r\n`;\r\n\r\nconst ActionButton = styled.button`\r\n    border: none;\r\n    padding: 5px;\r\n    background-color: transparent;\r\n`;\r\n\r\nconst RowItem = styled.td`\r\n    padding: 0 10px;\r\n`;\r\n\r\nconst ActionNav = styled.span`\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n`;\r\n\r\nexport default props => {\r\n    const [selected, setSelected] = React.useState([]);\r\n    const [addBill, setAddBill] = React.useState(false);\r\n    const [selectedOne, setSelectedOne] = React.useState({});\r\n    const [toggleCheck, setToggleCheck] = React.useState(false);\r\n    const [cookies] = useCookies();\r\n\r\n    return (\r\n        <Context.Consumer>\r\n            {({context}) => {\r\n                const sales = context.sales.data;\r\n\r\n                const checkAll = () => {\r\n                    if(sales.docs && sales.docs.length > 0){\r\n                        const arr = sales.docs.filter(item => item.paid === false);\r\n                        if(arr.length === 0) return false;\r\n                        return arr.length === selected.length;\r\n                    }\r\n                    else return false\r\n                }\r\n                return(\r\n                    <>\r\n                    {toggleCheck &&\r\n                    <CheckBill\r\n                        data={selectedOne}\r\n                        onClose={() => setToggleCheck(false)}\r\n                        seller\r\n                        onAlter={async body => {\r\n                            const option = window.confirm('Deseja realmente ALTERAR esta nota?');\r\n                            if(option)\r\n                                await alterSales([body], cookies.authorization.access_token)\r\n                                .then(() => {\r\n                                    setToggleCheck(false);\r\n                                    props.onRefresh(sales.currentPage);\r\n                                }).catch((e) => window.alert(\"Falha ao alterar esta fatura.\"));\r\n                        }}\r\n                        onDelete={async id => {\r\n                            const option = window.confirm('Deseja realmente DELETAR esta nota?');\r\n                            if(option)\r\n                                await deleteSales([{id}], cookies.authorization.access_token)\r\n                                .then(() => {\r\n                                    setToggleCheck(false);\r\n                                    props.onRefresh(sales.currentPage);\r\n                                }).catch(() => window.alert(\"Falha ao deletar esta fatura.\"));\r\n                        }}\r\n                    />}\r\n                    {addBill &&\r\n                    <AddBill\r\n                    onSubmit={async data => {\r\n                        setAddBill(false);\r\n                        await addSale(data, cookies.authorization.access_token);\r\n                        props.onRefresh(sales.currentPage);\r\n                    }}\r\n                    onClose={() => {\r\n                        setAddBill(false);\r\n                    }}/>}\r\n                    <Container>\r\n                        <ActionList>\r\n                            <h4>\r\n                                Vendas\r\n                            </h4>\r\n                            <ActionNav>\r\n                                <ActionButton\r\n                                    onClick={() => props.onRefresh(sales.currentPage)}\r\n                                >\r\n                                    <Icon.MdRefresh size={24} />\r\n                                </ActionButton>\r\n                                <ActionButton\r\n                                    onClick={() => setAddBill(true)}\r\n                                >\r\n                                    <Icon.MdAdd size={24} />\r\n                                </ActionButton>\r\n                                <ActionButton\r\n                                disabled={selected.length === 0}\r\n                                onClick={()=> {\r\n                                    const option = window.confirm(`Deseja realmente DELETAR estes ${selected.length} items?`);\r\n                                    if(option)\r\n                                        props.onDelete(selected, sales.currentPage)\r\n                                }}\r\n                                >\r\n                                    <Icon.MdDelete size={24} />\r\n                                </ActionButton>\r\n                            </ActionNav>\r\n                        </ActionList>\r\n                        <Table>\r\n                            <tbody>\r\n                                <tr style={{textAlign: 'right'}}>\r\n                                    <InputContainer>\r\n                                        <input\r\n                                            type=\"checkbox\"\r\n                                            checked={checkAll()}\r\n                                            onChange={(e)=>{\r\n                                                if(sales.docs){\r\n                                                    if(!e.target.checked) return setSelected([]);\r\n            \r\n                                                    const arr = sales.docs.filter(item => item.paid === false);\r\n                                                    setSelected(arr);\r\n                                                };\r\n                                            }}\r\n                                        />\r\n                                    </InputContainer>\r\n                                    <TableHeader style={{textAlign: 'left'}}>Nº do pedido</TableHeader>\r\n                                    <TableHeader>Valor</TableHeader>\r\n                                    <TableHeader>Data</TableHeader>\r\n                                    <TableHeader>Situação</TableHeader>\r\n                                </tr>\r\n                                {sales.docs && sales.docs.map(item => {\r\n                                    return (\r\n                                        <Row key={item.id}>\r\n                                            <InputContainer>\r\n                                                <input type=\"checkbox\"\r\n                                                disabled={item.paid}\r\n                                                checked={selected.includes(item)}\r\n                                                onChange={()=>{\r\n                                                    const arr = selected;\r\n                                                    if(!selected.includes(item)){\r\n                                                        setSelected(arr.concat([item]));\r\n                                                    } else {\r\n                                                        setSelected(arr.filter(i => i !== item))\r\n                                                    }\r\n                                                }} />\r\n                                            </InputContainer>\r\n                                            <RowItem style={{ textAlign: \"left\" }}>\r\n                                                <ItemButton\r\n                                                 onClick={() => {\r\n                                                    setSelectedOne(item);\r\n                                                    setToggleCheck(true);\r\n                                                }}\r\n                                                >{item.code}</ItemButton>\r\n                                            </RowItem>\r\n                                            <RowItem>R$ {Number(item.value).toFixed(2).replace(\".\", \",\")}</RowItem>\r\n                                            <RowItem>{new Date(item.createdAt).toLocaleDateString()}</RowItem>\r\n                                            <RowItem style={{color: item.paid ? \"#00de89\" : \"tomato\" }}>{item.paid ? \"Pago\" : \"Aguardando pagamento\"}</RowItem>\r\n                                        </Row>\r\n                                    );\r\n                                })}\r\n                            </tbody>\r\n                        </Table>\r\n                        <Pagination>\r\n                            <span style={{fontSize: \"10pt\"}}>\r\n                            Exibindo {sales.count}-{sales.totalCount}\r\n                            </span>\r\n                            <span>\r\n                                <PageArrow\r\n                                    disabled={sales.currentPage === 1}\r\n                                    onClick={() => {\r\n                                        props.previousPage(sales.currentPage);\r\n                                        setSelected([]);\r\n                                    }}\r\n                                >\r\n                                    <Icon.MdKeyboardArrowLeft size={18} />\r\n                                </PageArrow>\r\n                                <PageArrow\r\n                                    type=\"button\"\r\n                                    disabled={sales.pages === sales.currentPage}\r\n                                    onClick={() =>{\r\n                                        props.nextPage(sales.currentPage);\r\n                                        setSelected([]);\r\n                                    }}\r\n                                >\r\n                                    <Icon.MdKeyboardArrowRight size={18} />\r\n                                </PageArrow>\r\n                            </span>\r\n                        </Pagination>\r\n                    </Container>\r\n                </>\r\n                );\r\n            }}\r\n        </Context.Consumer>\r\n    );\r\n}","import React, { useContext } from 'react';\r\nimport TableSales from '../components/tableSalesSellers';\r\nimport NavBar from '../components/navbar';\r\nimport styled from 'styled-components';\r\nimport {useCookies} from 'react-cookie';\r\nimport {Context} from '../context';\r\nimport jwt from 'jsonwebtoken';\r\nimport {\r\n  getSales,\r\n  deleteSales,\r\n} from '../services'\r\n\r\nconst Container = styled.div`\r\n  padding: 90px 0 0 0;\r\n  display: flex;\r\n  flex: row;\r\n  height: 100%;\r\n`;\r\n\r\nconst Seller = props => {\r\n  const [cookies, , removeCookies] = useCookies();\r\n  const state = useContext(Context);\r\n\r\n  const updateData = async (pageSales) => {\r\n    const salesData = await getSales(pageSales, cookies.authorization.access_token)\r\n    .then(d => {\r\n      return d;\r\n    })\r\n    .catch((e) => {\r\n      window.alert(e.message);\r\n      removeCookies('authorization');\r\n      window.location.reload();\r\n    })\r\n\r\n    state.setContext({\r\n      ...state, \r\n      sales: {\r\n        ...state.sales,\r\n        data: salesData\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    updateData(1);\r\n  }\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  , []);\r\n\r\nconst Home = () => {\r\n    return(\r\n      <Context.Consumer>\r\n        {({context}) => {\r\n          const sales = context.sales.data;\r\n\r\n          const user = jwt.decode(cookies.authorization.access_token);\r\n          const total = sales.docs.reduce((acc, sale) => acc + sale.value, 0);\r\n          let open = 0;\r\n          let paid = 0;\r\n      \r\n          sales.docs.forEach(sale => {\r\n              if(sale.paid) paid += sale.value;\r\n              else open += sale.value;\r\n          });\r\n      \r\n          return (\r\n            <div style={{display: 'flex', flexDirection: 'column', flex: 1}}>\r\n                <div style={{display: 'flex', flexDirection: 'column', margin: 30}}>\r\n                    <h1>{user.name}</h1>\r\n                    <div style={{minHeight: 50}} />\r\n                    <div style={{display: 'flex', flexDirection: 'row', justifyContent: 'space-between'}}>\r\n                        <span>Total: <h3>R$ {total.toFixed(2).replace('.', ',')}</h3></span>\r\n                        <span>Pago: <h3 style={{color: '#00de89'}}>R$ {paid.toFixed(2).replace('.', ',')}</h3></span>\r\n                        <span>Em aberto: <h3 style={{color: 'tomato'}}>R$ {open.toFixed(2).replace('.', ',')}</h3></span>\r\n                        <span>Comissão (0,25%): <h3>R$ {(paid * 0.0025).toFixed(2).replace('.', ',')}</h3></span>\r\n                    </div>\r\n                </div>\r\n                <TableSales\r\n                  nextPage={async page => {\r\n                    await updateData(page + 1);\r\n                  }}\r\n                  previousPage={async page => {\r\n                    await updateData(page - 1);\r\n                  }}\r\n                  onDelete={async (sales, page) => {\r\n                    await deleteSales(sales, cookies.authorization.access_token);\r\n                    await updateData(page);\r\n                  }}\r\n                  onRefresh={async (page) => {\r\n                    await updateData(page);\r\n                  }}\r\n                />\r\n            </div>\r\n          )\r\n        }}\r\n      </Context.Consumer>\r\n    );\r\n}\r\n\r\n  return(\r\n    <Container>\r\n      <NavBar />\r\n      <Home />\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default Seller;","import React, { useEffect } from 'react';\r\nimport styled from 'styled-components';\r\nimport {login} from '../services';\r\nimport {useCookies} from 'react-cookie';\r\nimport {useHistory} from 'react-router-dom';\r\n\r\nconst Container = styled.div`\r\n    width: 100vw;\r\n    height: 100vh;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n`;\r\n\r\nconst Input = styled.input`\r\n    width: 100%;\r\n    height: 30px;\r\n    border: 1px solid #ddd;\r\n    border-radius: 3px;\r\n    margin: 5px 0;\r\n    padding: 0 10px;\r\n    color: #333;\r\n`;\r\n\r\nconst Button = styled.button`\r\n    width: 100%;\r\n    height: 30px;\r\n    border: none;\r\n    border-radius: 3px;\r\n    margin: 5px 0;\r\n    background-color: #00de89;\r\n    color: white;\r\n    font-weight: 500;\r\n`;\r\n\r\nconst Box = styled.section`\r\n    width: 25%;\r\n    border-radius: 5px;\r\n    box-shadow: 1px 1px 8px #ddd;\r\n    padding: 50px;\r\n    min-width: 300px;\r\n`;\r\n\r\nconst Title = styled.p`\r\n    font-weight: 500;\r\n    color: #333;\r\n    margin: 0 0 15px 0;\r\n`;\r\n\r\nconst CopyRight = styled.div`\r\n    position: absolute;\r\n    bottom: 30px;\r\n    left: 0;\r\n    right: 0;\r\n    text-align: center;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n\r\n    & a {\r\n        text-decoration: none;\r\n        color: #333;\r\n        font-size: 8pt;\r\n        font-weight: 300;\r\n        margin: 0 5px;\r\n    }\r\n`;\r\n\r\nconst tabOnEnter = (element) => {\r\n    return (event) => {\r\n        if(event.key === \"Enter\")\r\n            document.getElementById(element).focus();\r\n    }\r\n}\r\n\r\nconst sendOnEnter = (run) => {\r\n    return (event) => {\r\n        if(event.key === \"Enter\")\r\n            run();\r\n    }\r\n}\r\n\r\nconst Login = () => {\r\n    const [state, setState] = React.useState({});\r\n    const [ , setCookie] = useCookies(['authorization']);\r\n    const history = useHistory();\r\n\r\n    useEffect(() => {\r\n        document.getElementById('username').focus();\r\n    }, [])\r\n\r\n    const sendLogin = async () => {\r\n        login(state)\r\n        .then(response => {\r\n            switch(response.status){\r\n                case 200:\r\n                    setCookie('authorization', response.data, {sameSite: 'lax'});\r\n                    history.push('/dashboard');\r\n                    break;\r\n                case 401:\r\n                    window.alert(\"Usuário e/ou senha incorretos.\");\r\n                    break;\r\n                default:\r\n                    window.alert(\"Erro inesperado, verifique o status do servidor.\");\r\n                    break;\r\n            }\r\n        })\r\n    }\r\n\r\n    return(\r\n        <Container>\r\n            <Box>\r\n                <Title>\r\n                    DedéSoft v0.0.1\r\n                </Title>\r\n                <Input id=\"username\" onKeyDown={tabOnEnter('password')} onChange={e => setState({...state, username: e.target.value})} type=\"text\" placeholder=\"Usuário\" />\r\n                <Input id=\"password\" onKeyDown={sendOnEnter(sendLogin)} onChange={e => setState({...state, password: e.target.value})} type=\"password\" placeholder=\"Senha\" />\r\n                <Button\r\n                onClick={sendLogin}\r\n                >Entrar</Button>\r\n                <a href=\"/nova-senha\">Está em senha?</a>\r\n            </Box>\r\n            <CopyRight>\r\n                <a style={{margin: 'auto'}} href=\"https://ghanizadev.github.io\" rel=\"noopener noreferrer\" target=\"_blank\">© 2020 ghanizadev</a>\r\n            </CopyRight>\r\n        </Container>\r\n    );\r\n}\r\n\r\nexport default Login;","import React from 'react';\r\n\r\nexport default () => {\r\n    return(\r\n        <div>\r\n            <h1>\r\n                404 - Not Found\r\n            </h1>\r\n        </div>\r\n    )\r\n}","import React, {useEffect} from 'react';\r\nimport styled from 'styled-components';\r\nimport {resetPassword} from '../services';\r\nimport {useHistory, withRouter} from 'react-router-dom';\r\nimport qs from 'qs';\r\n\r\nconst Container = styled.div`\r\n    width: 100vw;\r\n    height: 100vh;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n`;\r\n\r\nconst Input = styled.input`\r\n    width: 100%;\r\n    height: 30px;\r\n    border: 1px solid #ddd;\r\n    border-radius: 3px;\r\n    margin: 5px 0;\r\n    padding: 0 10px;\r\n    color: #333;\r\n`;\r\n\r\nconst Button = styled.button`\r\n    width: 100%;\r\n    height: 30px;\r\n    border: none;\r\n    border-radius: 3px;\r\n    margin: 5px 0;\r\n    background-color: #00de89;\r\n    color: white;\r\n    font-weight: 500;\r\n`;\r\n\r\nconst Box = styled.section`\r\n    width: 25%;\r\n    border-radius: 5px;\r\n    box-shadow: 1px 1px 8px #ddd;\r\n    padding: 50px;\r\n    min-width: 300px;\r\n\r\n    & label {\r\n        font-size: 8pt;\r\n    }\r\n`;\r\n\r\nconst Title = styled.p`\r\n    font-weight: 500;\r\n    color: #333;\r\n    margin: 0 0 15px 0;\r\n`;\r\n\r\nconst Login = props => {\r\n    const [state, setState] = React.useState({});\r\n    const history = useHistory();\r\n\r\n    const query = qs.parse(props.location.search.substring(1));\r\n\r\n    useEffect(()=>{\r\n        setState({...state, username: query.user, code: query.code})\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [])\r\n\r\n    return(\r\n        <Container>\r\n            <Box>\r\n                <Title>\r\n                    Nova senha\r\n                </Title>\r\n                <label>\r\n                    Usuário:\r\n                    <Input\r\n                        defaultValue={query.user && query.user}\r\n                        onChange={e => setState({...state, username: e.target.value})}\r\n                        type=\"text\"\r\n                        placeholder=\"Usuário\"\r\n                    />\r\n                </label>\r\n                <label>\r\n                    Senha:\r\n                    <Input\r\n                        onChange={e => setState({...state, password: e.target.value})}\r\n                        type=\"password\"\r\n                        placeholder=\"Senha\" />\r\n                </label>\r\n                <label>\r\n                    Repita a senha:\r\n                    <Input\r\n                        onChange={e => setState({...state, confirmPassword: e.target.value})}\r\n                        type=\"password\"\r\n                        placeholder=\"Confirme sua senha\" />\r\n                </label>\r\n                <label>\r\n                    Código de autorização\r\n                    <Input\r\n                        defaultValue={query.code && query.code}\r\n                        onChange={e => setState({...state, code: e.target.value})}\r\n                        type=\"text\" placeholder=\"Código de autorização\"\r\n                    />\r\n                </label>\r\n                <Button\r\n                onClick={async () => {\r\n                    if(!state.password || !state.confirmPassword)\r\n                        return window.alert('Preencha todos os campos para prosseguir.');\r\n                    if(state.password.length < 4 || state.confirmPassword.length < 4)\r\n                        return window.alert('A senha de possuir ao menos 4 digitos.');\r\n                    if(state.password !== state.confirmPassword)\r\n                        return window.alert('Senhas não conferem.');\r\n                    if(!state.code || state.code === '')\r\n                        return window.alert('Preencha o código de autorização.');\r\n                    resetPassword(state)\r\n                    .then(response => {\r\n                        switch(response.status){\r\n                            case 204:\r\n                                window.alert(\"Senha alterada com sucesso!\");\r\n                                history.push('/');\r\n                                break;\r\n                            case 403:\r\n                                window.alert(\"Código de autorização inválido.\");\r\n                                break;\r\n                            default:\r\n                                window.alert(\"Erro inesperado, verifique o status do servidor.\");\r\n                                break;\r\n                        }\r\n                    })\r\n                }}\r\n                >Confirmar</Button>\r\n            </Box>\r\n        </Container>\r\n    );\r\n}\r\n\r\nexport default withRouter(Login);","import React from 'react';\r\nimport TableSales from '../components/tableSalesAdmin';\r\nimport NavBar from '../components/navbar';\r\nimport styled from 'styled-components';\r\nimport {useCookies} from 'react-cookie';\r\nimport {\r\n  getSalesAll,\r\n  deleteSales,\r\n  paySales,\r\n  getSellers,\r\n} from '../services'\r\nimport { Context } from '../context';\r\n\r\nconst Container = styled.div`\r\n  padding: 90px 0 0 0;\r\n  display: flex;\r\n  flex: row;\r\n  height: 100%;\r\n`;\r\n\r\nconst Dashboard = props => {\r\n  const [cookies, , removeCookies] = useCookies();\r\n  const state = React.useContext(Context)\r\n\r\n  const updateData = async (pageSales) => {\r\n    const salesData = await getSalesAll(pageSales, cookies.authorization.access_token)\r\n    .then(d => {\r\n      return d;\r\n    })\r\n    .catch((e) => {\r\n      window.alert(e.message);\r\n      removeCookies('authorization');\r\n      window.location.reload();\r\n    })\r\n\r\n    state.setContext({\r\n      ...state.context, \r\n      sales: {\r\n        ...state.context.sales,\r\n        data: salesData\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n  const updateSales = async (page, range) => {\r\n    const salesData = await getSalesAll(page, cookies.authorization.access_token, range)\r\n    .then(d => {\r\n      return d;\r\n    })\r\n    .catch((e) => {\r\n      window.alert(e.message);\r\n      removeCookies('authorization');\r\n      window.location.reload();\r\n    })\r\n\r\n    state.setContext({\r\n      ...state.context, \r\n      sales: {\r\n        data: salesData,\r\n        startDate: range.start,\r\n        endDate: range.end,\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    updateData(1);\r\n  }\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  , []);\r\n\r\nconst Sales = () => \r\n  <TableSales\r\n    nextPage={async page => {\r\n      await updateData(1, page + 1);\r\n    }}\r\n    previousPage={async page => {\r\n      await updateData(1, page - 1);\r\n    }}\r\n    onDelete={async (sales, page) => {\r\n      await deleteSales(sales, cookies.authorization.access_token);\r\n      await updateData(1, page);\r\n    }}\r\n    onPay={async (sales, page) => {\r\n      await paySales(sales, cookies.authorization.access_token);\r\n      await updateData(1, page);\r\n    }}\r\n    onDateChange={async (page, range) => {\r\n      await updateSales(page, range);\r\n    }}\r\n    onRefresh={async (page) => {\r\n      await updateData(1, page);\r\n    }}\r\n    />\r\n\r\n  return(\r\n    <Container>\r\n      <NavBar/>\r\n      <Sales />\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default Dashboard;","import React from 'react';\r\nimport Admin from '../pages/admin';\r\nimport Seller from '../pages/seller';\r\nimport Login from '../pages/login';\r\nimport {BrowserRouter as Router, Switch, Route, Redirect} from 'react-router-dom';\r\nimport {useCookies} from 'react-cookie';\r\nimport NotFound from '../pages/notFound';\r\nimport NewPassword from '../pages/newPassword';\r\nimport jwt from 'jsonwebtoken'\r\nimport Cashier from '../pages/cashier';\r\n\r\nconst App = () => {\r\n  const [cookies] = useCookies(['authorization']);\r\n\r\n  const loggedIn = cookies.authorization && cookies.authorization.access_token;\r\n\r\n  const render = () => {\r\n    const data = loggedIn && jwt.decode(cookies.authorization.access_token);\r\n\r\n    if(data && data.role)\r\n      switch(data.role){\r\n        case 'admin': return <Admin />\r\n        case 'seller': return <Seller />\r\n        case 'cashier': return <Cashier />\r\n        default: return <Login />\r\n      }\r\n\r\n    return <Login />\r\n  }\r\n\r\n  return(\r\n    <Router>\r\n      <Switch>\r\n        <Route path=\"/nova-senha\" component={NewPassword} />\r\n        <Route path=\"/dashboard\" exact>\r\n          {!loggedIn ? <Redirect to=\"/\" /> : render()}\r\n        </Route>\r\n        <Route path=\"/\" exact >\r\n          {loggedIn ? <Redirect to=\"/dashboard\" /> : <Login />}\r\n        </Route>\r\n        <Route path=\"*\" component={NotFound} />\r\n      </Switch>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport Routes from './routes';\r\nimport { CookiesProvider } from 'react-cookie';\r\nimport { Provider } from './context';\r\n\r\nReactDOM.render(\r\n  <CookiesProvider>\r\n    <Provider>\r\n      <Routes />\r\n    </Provider>\r\n  </CookiesProvider>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}