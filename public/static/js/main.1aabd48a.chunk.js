(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[0],{131:function(e,n,t){e.exports=t(260)},136:function(e,n,t){},158:function(e,n){},160:function(e,n){},197:function(e,n){},198:function(e,n){},260:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(125),c=t.n(o),i=(t(136),t(5)),u=t(1),l=t.n(u),s=t(8),d=t(4),f=t(2),p=t(3),h=t(11),m=t(138),b=t(21),x="http://".concat(window.location.hostname,":3333"),g=function(){var e=Object(d.a)(l.a.mark((function e(){var n,t,r,a,o=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>0&&void 0!==o[0]?o[0]:1,t=o.length>1?o[1]:void 0,r=b.decode(t),e.next=5,m.get("".concat(x,"/sellers/").concat(r.id,"/list?page=").concat(n),{headers:{Authorization:"Bearer "+t}}).then((function(e){if(200===e.status)return e.data})).catch(console.log);case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(d.a)(l.a.mark((function e(){var n,t,r,a=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>0&&void 0!==a[0]?a[0]:1,t=a.length>1?a[1]:void 0,e.next=4,m.get("".concat(x,"/sales?page=").concat(n),{headers:{Authorization:"Bearer "+t}}).then((function(e){if(200===e.status)return e.data})).catch(console.log);case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(d.a)(l.a.mark((function e(n){var t,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.username,r=n.password,e.abrupt("return",m.post("".concat(x,"/login"),{username:t,password:r}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),E=function(){var e=Object(d.a)(l.a.mark((function e(){var n,t,r,a,o,c=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>0&&void 0!==c[0]?c[0]:{},t=c.length>1?c[1]:void 0,r=b.decode(t),a={code:n.code,value:Number(n.value)},e.next=6,m.post("".concat(x,"/sellers/").concat(r.id,"/add"),a,{headers:{Authorization:"Bearer "+t}}).then((function(e){if(200===e.status)return e.data})).catch(console.log);case 6:return o=e.sent,e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(d.a)(l.a.mark((function e(){var n,t,r,a,o=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>0&&void 0!==o[0]?o[0]:{},t=o.length>1?o[1]:void 0,r={code:n.code,role:n.role,name:n.name,password:n.password},e.next=5,m.post("".concat(x,"/sellers"),r,{headers:{Authorization:"Bearer "+t}}).then((function(e){if(200===e.status)return e.data})).catch(console.log);case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(d.a)(l.a.mark((function e(n,t){var r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.username,e.next=3,m.post("".concat(x,"/reset-code"),{username:r},{headers:{Authorization:"Bearer "+t}}).then((function(e){if(200===e.status)return e.data})).catch(console.log);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),y=function(){var e=Object(d.a)(l.a.mark((function e(n){var t,r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.username,r=n.code,a=n.password,e.abrupt("return",m.post("".concat(x,"/reset-password"),{username:t,code:r,password:a}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),k=function(){var e=Object(d.a)(l.a.mark((function e(){var n,t,r=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>0&&void 0!==r[0]?r[0]:[],t=r.length>1?r[1]:void 0,e.next=4,Promise.all(n.map(function(){var e=Object(d.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.delete(x+"/sales/"+n.id,{headers:{Authorization:"Bearer "+t}}).then((function(e){e.status})).catch(console.log);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 4:return e.abrupt("return");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(d.a)(l.a.mark((function e(){var n,t,r=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>0&&void 0!==r[0]?r[0]:[],t=r.length>1?r[1]:void 0,e.next=4,Promise.all(n.map(function(){var e=Object(d.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.patch("".concat(x,"/sales/").concat(n.id),n,{headers:{Authorization:"Bearer "+t}}).then((function(e){e.status})).catch(console.log);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 4:return e.abrupt("return");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(d.a)(l.a.mark((function e(){var n,t,r=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>0&&void 0!==r[0]?r[0]:[],t=r.length>1?r[1]:void 0,e.next=4,Promise.all(n.map(function(){var e=Object(d.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.patch("".concat(x,"/sales/").concat(n.id),{paid:!0},{headers:{Authorization:"Bearer "+t}}).then((function(e){e.status})).catch(console.log);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 4:return e.abrupt("return");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(d.a)(l.a.mark((function e(){var n,t,r,a=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>0&&void 0!==a[0]?a[0]:1,t=a.length>1?a[1]:void 0,e.next=4,m.get("".concat(x,"/sellers?page=").concat(n),{headers:{Authorization:"Bearer "+t}}).then((function(e){if(200===e.status)return e.data})).catch(console.log);case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(d.a)(l.a.mark((function e(){var n,t,r=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>0&&void 0!==r[0]?r[0]:[],t=r.length>1?r[1]:void 0,e.next=4,Promise.all(n.map(function(){var e=Object(d.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.delete("".concat(x,"/sellers/").concat(n.id),{headers:{Authorization:"Bearer "+t}}).then((function(e){e.status})).catch(console.log);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 4:return e.abrupt("return");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=t(261);function S(){var e=Object(f.a)(["\n    width: 16px;\n    height: 16px;\n    border: none;\n    border-radius: 8px;\n    position: absolute;\n    top: 15px;\n    right: 15px;\n    background-color: tomato;\n    color: white;\n    font-weight: 500;\n    transition: filter 0.25s ease;\n\n    &:hover{\n        filter: brightness(.95);\n    }\n"]);return S=function(){return e},e}function R(){var e=Object(f.a)(["\n    width: 100%;\n    height: 30px;\n    border: none;\n    border-radius: 3px;\n    margin: 5px 0;\n    background-color: ",";\n    color: white;\n    font-weight: 500;\n    transition: filter 0.25s ease;\n\n    &:disabled {\n        background-color: lightgray;\n    }\n\n    &:hover{\n        filter: brightness(.95);\n    }\n"]);return R=function(){return e},e}function _(){var e=Object(f.a)(["\n    color: #333;\n    font-size: 10pt;\n    font-weight: 300;\n    margin: 5px 0;\n"]);return _=function(){return e},e}function F(){var e=Object(f.a)(["\n    width: 100%;\n    height: 30px;\n    border: 1px solid #ddd;\n    border-radius: 3px;\n    margin: 5px 0;\n    padding: 0 10px;\n    color: #333;\n    text-align: right;\n"]);return F=function(){return e},e}function V(){var e=Object(f.a)(["\n    font-size: 14pt;\n    font-weight: 500;\n    margin: 0 0 15px 0;\n"]);return V=function(){return e},e}function N(){var e=Object(f.a)(["\n    width: 25vw;\n    padding: 15px;\n    background-color: white;\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    z-index: 3;\n    display: flex;\n    flex-direction: column;\n    min-width: 320px;\n"]);return N=function(){return e},e}function L(){var e=Object(f.a)(["\n    z-index: 2;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: #333;\n    opacity: 0.15;\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n"]);return L=function(){return e},e}var B=p.a.div(L()),$=p.a.div(N()),T=p.a.p(V()),G=p.a.input(F()),I=p.a.label(_()),U=p.a.button(R(),(function(e){switch(e.id){case"pay":return"#00de89";case"alter":return"#ffc219";case"delete":return"tomato";default:return"#00de89"}})),M=p.a.button(S()),Y=function(e){var n=Object(r.useState)(e.data),t=Object(i.a)(n,2),o=t[0],c=t[1],u=e.data,l=u.code,d=u.value,f=u.createdAt,p=u.paid,h=u.id,m=(d||0).toFixed(2).replace(".",",");return a.a.createElement(a.a.Fragment,null,a.a.createElement(B,{style:{display:e.visible?"flex":"none"}}),a.a.createElement($,{style:{display:e.visible?"flex":"none"},key:e.data.value?"notLoaded":"loaded"},a.a.createElement(T,null,"Informa\xe7\xf5es do pedido"),a.a.createElement(I,null,"Vendedor:",a.a.createElement(G,{value:e.data.seller?e.data.seller.name:"",contentEditable:!1,disabled:!0,type:"text"})),a.a.createElement(I,null,"N\xba do pedido:",a.a.createElement(G,{defaultValue:l,disabled:p,onChange:function(e){return c(Object(s.a)({},o,{id:h,code:e.target.value}))},type:"text"})),a.a.createElement(I,null,"Valor do pedido (R$):",a.a.createElement(G,{defaultValue:m,disabled:p,onChange:function(e){return c(Object(s.a)({},o,{id:h,value:Number(e.target.value.replace(",","."))}))},type:"text"})),a.a.createElement(I,null,"Data:",a.a.createElement(G,{disabled:!0,value:"".concat(new Date(f).toLocaleDateString()," \xe0s ").concat(new Date(f).toLocaleTimeString()),contentEditable:!1,type:"text"})),a.a.createElement(I,null,"Situa\xe7\xe3o:",a.a.createElement(G,{disabled:!0,value:p?"Pago":"Aguardando pagamento",style:{color:p?"#00de89":"tomato"},contentEditable:!1,type:"text"})),a.a.createElement(U,{id:"pay",disabled:e.seller,style:{display:p?"none":null},onClick:function(){return e.onPay(h)}},"Pagar"),a.a.createElement(U,{id:"alter",style:{display:p?"none":null},onClick:function(){return e.onAlter(o)}},"Alterar"),a.a.createElement(U,{id:"delete",style:{display:p?"none":null},onClick:function(){return e.onDelete(h)}},"Deletar"),a.a.createElement(M,{onClick:function(){return e.onClose()}},"\xd7")))};function q(){var e=Object(f.a)(["\n    padding: 5px;\n"]);return q=function(){return e},e}var H=p.a.span(q()),J=function(e){var n,t=e.date;function r(e){return e<10?"0"+e:e}return t&&(n="".concat(t.getFullYear(),"-").concat(r(t.getMonth()+1),"-").concat(r(t.getDate()))),a.a.createElement(H,null,a.a.createElement("input",Object.assign({type:"date",value:n},e)))},K={context:{sales:{data:{docs:[]},startDate:"",endDate:""},sellers:{data:{docs:[]},startDate:"",endDate:""}},setContext:function(){}},Q=a.a.createContext(K),W=function(e){var n=Object(r.useState)(Object(s.a)({},K,{setContext:function(e){c(Object(s.a)({},o,{context:e}))}})),t=Object(i.a)(n,2),o=t[0],c=t[1];return a.a.createElement(Q.Provider,{value:o},e.children)};function X(){var e=Object(f.a)(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n"]);return X=function(){return e},e}function Z(){var e=Object(f.a)(["\n    padding: 0 10px;\n"]);return Z=function(){return e},e}function ee(){var e=Object(f.a)(["\n    border: none;\n    padding: 5px;\n    background-color: transparent;\n"]);return ee=function(){return e},e}function ne(){var e=Object(f.a)(["\n    border: none;\n    padding: 5px;\n    background-color: transparent;\n    font: inherit;\n    cursor: pointer;\n"]);return ne=function(){return e},e}function te(){var e=Object(f.a)(["\n    border: none;\n    padding: 5px;\n    margin: 0 10px;\n    background-color: transparent;\n"]);return te=function(){return e},e}function re(){var e=Object(f.a)(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: space-between;\n    margin: 5px 0;\n    padding: 0 15px;\n"]);return re=function(){return e},e}function ae(){var e=Object(f.a)(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: flex-end;\n    margin: 5px 0;\n    bottom: 15px;\n    right: 15px;\n    position: absolute;\n"]);return ae=function(){return e},e}function oe(){var e=Object(f.a)(["\n    max-width: 40px;\n    height: 40px;\n    padding: 5px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n"]);return oe=function(){return e},e}function ce(){var e=Object(f.a)(["\n    height: 40px;\n    border-bottom: 1px solid #ddd;\n    line-height: 20pt;\n    font-weight: 300;\n    cursor: pointer;\n    text-align: right;\n\n    &:hover{\n        background-color: #eee;\n    }\n"]);return ce=function(){return e},e}function ie(){var e=Object(f.a)(["\n    padding: 0 10px;\n    font-weight: 500;\n"]);return ie=function(){return e},e}function ue(){var e=Object(f.a)(["\n    position: relative;\n    width: 100%;\n    border-collapse: collapse; \n    overflow: auto;\n"]);return ue=function(){return e},e}function le(){var e=Object(f.a)(["\n    border-radius: 5px;\n    background-color: #fdfdfd;\n    box-shadow: 1px 1px 15px #ddd;\n    margin: 30px;\n    padding: 30px;\n    position: relative;\n    min-height: 560px;\n    flex: 1;\n"]);return le=function(){return e},e}var se=p.a.div(le()),de=p.a.table(ue()),fe=p.a.th(ie()),pe=p.a.tr(ce()),he=p.a.td(oe()),me=p.a.section(ae()),be=p.a.section(re()),xe=p.a.button(te()),ge=p.a.button(ne()),ve=p.a.button(ee()),we=p.a.td(Z()),Ee=p.a.span(X()),je=function(e){var n=a.a.useState([]),t=Object(i.a)(n,2),r=t[0],o=t[1],c=a.a.useState({}),u=Object(i.a)(c,2),s=u[0],f=u[1],p=a.a.useState(!1),m=Object(i.a)(p,2),b=m[0],x=m[1],g=Object(D.a)(),v=Object(i.a)(g,1)[0],w=new Date,E=new Date(w.getFullYear(),w.getMonth(),1),j=new Date(w.getFullYear(),w.getMonth()+1,0);return a.a.createElement(Q.Consumer,null,(function(n){var t=n.context.sales.data;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Y,{visible:b,data:s,onClose:function(){return x(!1)},onPay:function(){var n=Object(d.a)(l.a.mark((function n(t){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!window.confirm("Deseja realmente PAGAR esta nota?")){n.next=4;break}return n.next=4,C([{id:t}],v.authorization.access_token).then((function(){x(!1),e.onRefresh()})).catch((function(){return window.alert("Falha ao pagar esta fatura.")}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),onAlter:function(){var n=Object(d.a)(l.a.mark((function n(t){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!window.confirm("Deseja realmente ALTERAR esta nota?")){n.next=4;break}return n.next=4,z([t],v.authorization.access_token).then((function(){x(!1),e.onRefresh()})).catch((function(e){console.log(e),window.alert("Falha ao alterar esta fatura.")}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),onDelete:function(){var n=Object(d.a)(l.a.mark((function n(t){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!window.confirm("Deseja realmente DELETAR esta nota?")){n.next=4;break}return n.next=4,k([{id:t}],v.authorization.access_token).then((function(){x(!1),e.onRefresh()})).catch((function(){return window.alert("Falha ao deletar esta fatura.")}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}),a.a.createElement(se,null,a.a.createElement(be,null,a.a.createElement("h4",null,"Vendas"),a.a.createElement(Ee,null,a.a.createElement("label",null,"Entre",a.a.createElement(J,{date:E,onChange:function(e){}})),a.a.createElement("label",null,"e",a.a.createElement(J,{date:j,onChange:function(e){}})),a.a.createElement(ve,{onClick:function(){return e.onRefresh()}},a.a.createElement(h.f,{size:24})),a.a.createElement(ve,{disabled:0===r.length,onClick:function(){window.confirm("Deseja realmente PAGAR estes ".concat(r.length," items?"))&&e.onPay(r,t.currentPage)}},a.a.createElement(h.b,{size:24})),a.a.createElement(ve,{disabled:0===r.length,onClick:function(){window.confirm("Deseja realmente DELETAR estes ".concat(r.length," items?"))&&e.onDelete(r,t.currentPage)}},a.a.createElement(h.c,{size:24})))),a.a.createElement(de,null,a.a.createElement("tbody",null,a.a.createElement("tr",{style:{textAlign:"right"}},a.a.createElement(he,null,a.a.createElement("input",{checked:function(){if(t.docs&&t.docs.length>0){var e=t.docs.filter((function(e){return!1===e.paid}));return 0!==e.length&&e.length===r.length}return!1}(),type:"checkbox",onChange:function(e){if(t.docs){if(!e.target.checked)return o([]);var n=t.docs.filter((function(e){return!1===e.paid}));o(n)}}})),a.a.createElement(fe,{style:{textAlign:"left"}},"N\xba do pedido"),a.a.createElement(fe,null,"Valor"),a.a.createElement(fe,null,"Vendedor"),a.a.createElement(fe,null,"Data"),a.a.createElement(fe,null,"Situa\xe7\xe3o")),t.docs&&t.docs.map((function(e){return a.a.createElement(pe,{key:e.id},a.a.createElement(he,null,a.a.createElement("input",{type:"checkbox",disabled:e.paid,checked:r.includes(e),onChange:function(){var n=r;r.includes(e)?o(n.filter((function(n){return n!==e}))):o(n.concat([e]))}})),a.a.createElement(we,{style:{textAlign:"left"}},"                                    ",a.a.createElement(ge,{onClick:function(){f(e),x(!0)}},e.code)),a.a.createElement(we,null,"R$ ",Number(e.value).toFixed(2).replace(".",",")),a.a.createElement(we,null,e.seller.name),a.a.createElement(we,null,new Date(e.createdAt).toLocaleDateString()),a.a.createElement(we,{style:{color:e.paid?"#00de89":"tomato"}},e.paid?"Pago":"Aguardando pagamento"))})))),a.a.createElement(me,null,a.a.createElement("span",{style:{fontSize:"10pt"}},"Exibindo ",t.count,"-",t.totalCount),a.a.createElement("span",null,a.a.createElement(xe,{disabled:1===t.currentPage,onClick:function(){e.previousPage(t.currentPage),o([])}},a.a.createElement(h.d,{size:18})),a.a.createElement(xe,{type:"button",disabled:t.pages===t.currentPage,onClick:function(){e.nextPage(t.currentPage),o([])}},a.a.createElement(h.e,{size:18}))))))}))};function Oe(){var e=Object(f.a)(["\n    color: #333;\n"]);return Oe=function(){return e},e}function ye(){var e=Object(f.a)(["\n    border: none;\n    color: #333;\n    height: 30px;\n    border: 1px solid #ddd;\n    width: 100%;\n    border-radius: 3px;\n    padding: 5px;\n"]);return ye=function(){return e},e}var ke=p.a.select(ye()),ze=p.a.option(Oe()),Ce=function(e){var n=e.data;return a.a.createElement(ke,Object.assign({},e,{defaultValue:"seller"}),n.map((function(e){return a.a.createElement(ze,{key:e.value,value:e.value},e.label)})))};function Pe(){var e=Object(f.a)(["\n    width: 100%;\n    height: 30px;\n    border: none;\n    border-radius: 3px;\n    margin: 5px 0;\n    background-color: #00de89;\n    color: white;\n    font-weight: 500;\n    transition: filter 0.25s ease;\n\n    &:hover{\n        filter: brightness(.95);\n    }\n"]);return Pe=function(){return e},e}function Ae(){var e=Object(f.a)(["\n    color: #333;\n    font-size: 10pt;\n    font-weight: 300;\n    margin: 5px 0;\n"]);return Ae=function(){return e},e}function De(){var e=Object(f.a)(["\n    width: 100%;\n    height: 30px;\n    border: 1px solid #ddd;\n    border-radius: 3px;\n    margin: 5px 0;\n    padding: 0 10px;\n    color: #333;\n"]);return De=function(){return e},e}function Se(){var e=Object(f.a)(["\n    font-size: 14pt;\n    font-weight: 500;\n    margin: 0 0 15px 0;\n"]);return Se=function(){return e},e}function Re(){var e=Object(f.a)(["\n    width: 25vw;\n    padding: 15px;\n    background-color: white;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    z-index: 3;\n    display: flex;\n    flex-direction: column;\n"]);return Re=function(){return e},e}function _e(){var e=Object(f.a)(["\n    z-index: 2;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: #333;\n    opacity: 0.15;\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n"]);return _e=function(){return e},e}var Fe=p.a.div(_e()),Ve=p.a.div(Re()),Ne=p.a.p(Se()),Le=p.a.input(De()),Be=p.a.label(Ae()),$e=p.a.button(Pe()),Te=function(e){var n=a.a.useState({password:"default"}),t=Object(i.a)(n,2),r=t[0],o=t[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(Fe,{style:{display:e.visible?"flex":"none"}}),a.a.createElement(Ve,{style:{display:e.visible?"flex":"none"}},a.a.createElement(Ne,null,"Adicionar vendedor"),a.a.createElement(Be,null,"Nome:",a.a.createElement(Le,{onChange:function(e){return o(Object(s.a)({},r,{name:e.target.value}))},type:"text",placeholder:"ex.: 12"})),a.a.createElement(Be,null,"Login:",a.a.createElement(Le,{onChange:function(e){return o(Object(s.a)({},r,{code:e.target.value}))},type:"text",placeholder:"ex.: 032549899"})),a.a.createElement(Be,null,"Atributos:",a.a.createElement(Ce,{onChange:function(e){return o(Object(s.a)({},r,{role:e.target.value}))},data:[{label:"Vendedor",value:"seller"},{label:"Caixa",value:"cashier"}]})),a.a.createElement($e,{onClick:function(){r.name?r.code?r.role?e.onSubmit(r):window.alert("Por favor, informe o atributo."):window.alert("Por favor, informe login do vendedor."):window.alert("Por favor, informe o nome do vendedor.")}},"Salvar"),a.a.createElement($e,{style:{backgroundColor:"tomato"},onClick:function(){return e.onClose()}},"Cancelar")))};function Ge(){var e=Object(f.a)(["\n    width: 16px;\n    height: 16px;\n    border: none;\n    border-radius: 8px;\n    position: absolute;\n    top: 15px;\n    right: 15px;\n    background-color: tomato;\n    color: white;\n    font-weight: 500;\n    transition: filter 0.25s ease;\n\n    &:hover{\n        filter: brightness(.95);\n    }\n"]);return Ge=function(){return e},e}function Ie(){var e=Object(f.a)(["\n    width: 100%;\n    height: 30px;\n    border: none;\n    border-radius: 3px;\n    margin: 5px 0;\n    background-color: ",";\n    color: white;\n    font-weight: 500;\n    transition: filter 0.25s ease;\n\n    &:disabled {\n        background-color: lightgray;\n    }\n\n    &:hover{\n        filter: brightness(.95);\n    }\n"]);return Ie=function(){return e},e}function Ue(){var e=Object(f.a)(["\n    color: #333;\n    font-size: 10pt;\n    font-weight: 300;\n    margin: 5px 0;\n"]);return Ue=function(){return e},e}function Me(){var e=Object(f.a)(["\n    width: 100%;\n    height: 30px;\n    border: 1px solid #ddd;\n    border-radius: 3px;\n    margin: 5px 0;\n    padding: 0 10px;\n    color: #333;\n    text-align: right;\n"]);return Me=function(){return e},e}function Ye(){var e=Object(f.a)(["\n    font-size: 14pt;\n    font-weight: 500;\n    margin: 0 0 15px 0;\n"]);return Ye=function(){return e},e}function qe(){var e=Object(f.a)(["\n    width: 25vw;\n    padding: 15px;\n    background-color: white;\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    z-index: 3;\n    display: flex;\n    flex-direction: column;\n    min-width: 320px;\n"]);return qe=function(){return e},e}function He(){var e=Object(f.a)(["\n    z-index: 2;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: #333;\n    opacity: 0.15;\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n"]);return He=function(){return e},e}var Je=p.a.div(He()),Ke=p.a.div(qe()),Qe=p.a.p(Ye()),We=p.a.input(Me()),Xe=p.a.label(Ue()),Ze=p.a.button(Ie(),(function(e){switch(e.id){case"pay":return"#00de89";case"alter":return"#ffc219";case"delete":return"tomato";default:return"#00de89"}})),en=p.a.button(Ge()),nn=function(e){var n=Object(D.a)(),t=Object(i.a)(n,1)[0],o=Object(r.useState)(""),c=Object(i.a)(o,2),u=c[0],s=c[1],f=Object(r.useState)(""),p=Object(i.a)(f,2),h=p[0],m=p[1];Object(r.useEffect)((function(){e.user&&e.user.length>0&&m(e.user.shift().code)}),[e.user]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Je,{style:{display:e.visible?null:"none"}}),a.a.createElement(Ke,{style:{display:e.visible?null:"none"}},a.a.createElement(Qe,null,"Solicitar nova senha"),a.a.createElement(Xe,null,"Login:",a.a.createElement(We,{value:h,disabled:!0,type:"text"})),a.a.createElement(Xe,null,"Gerar c\xf3digo de autoriza\xe7\xe3o:",a.a.createElement(Ze,{onClick:Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O({username:h},t.authorization.access_token).then((function(e){var n,t,r=(n=e.username,t=e.code,n&&t?"".concat(window.location.href.split(window.location.pathname)[0],"/nova-senha?code=").concat(t,"&user=").concat(n):"");console.log(r),s(r)}));case 2:case"end":return e.stop()}}),e)})))},"Gerar"),a.a.createElement(We,{value:"",style:{textAlign:"center"},disabled:!0,type:"text"}),a.a.createElement("div",{style:{minHeight:80,display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center"}},a.a.createElement("a",{href:u,target:"_blank",rel:"noopener noreferrer"},u))),a.a.createElement(en,{onClick:function(){return e.onClose()}},"\xd7")))};function tn(){var e=Object(f.a)(["\n    font-size: 10pt;\n"]);return tn=function(){return e},e}function rn(){var e=Object(f.a)(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n"]);return rn=function(){return e},e}function an(){var e=Object(f.a)(["\n    padding: 0 10px;\n"]);return an=function(){return e},e}function on(){var e=Object(f.a)(["\n    border: none;\n    padding: 5px;\n    background-color: transparent;\n"]);return on=function(){return e},e}function cn(){var e=Object(f.a)(["\n    border: none;\n    padding: 5px;\n    margin: 0 10px;\n    background-color: transparent;\n"]);return cn=function(){return e},e}function un(){var e=Object(f.a)(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: space-between;\n    margin: 5px 0;\n    padding: 0 15px;\n"]);return un=function(){return e},e}function ln(){var e=Object(f.a)(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: flex-end;\n    margin: 5px 0;\n    bottom: 30px;\n    right: 15px;\n    position: absolute;\n    background-color: white;\n"]);return ln=function(){return e},e}function sn(){var e=Object(f.a)(["\n    max-width: 40px;\n    height: 40px;\n    padding: 5px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n"]);return sn=function(){return e},e}function dn(){var e=Object(f.a)(["\n    height: 40px;\n    border-bottom: 1px solid #ddd;\n    line-height: 20pt;\n    font-weight: 300;\n    cursor: pointer;\n    text-align: right;\n\n    &:hover{\n        background-color: #eee;\n    }\n"]);return dn=function(){return e},e}function fn(){var e=Object(f.a)(["\n    padding: 0 10px;\n    font-weight: 500;\n"]);return fn=function(){return e},e}function pn(){var e=Object(f.a)(["\n    position: relative;\n    width: 100%;\n    border-collapse: collapse; \n    overflow: auto;\n"]);return pn=function(){return e},e}function hn(){var e=Object(f.a)(["\n    border-radius: 5px;\n    background-color: #fdfdfd;\n    box-shadow: 1px 1px 15px #ddd;\n    margin: 30px;\n    padding: 30px;\n    position: relative;\n    min-height: 560px;\n    flex: 1;\n"]);return hn=function(){return e},e}var mn=p.a.div(hn()),bn=p.a.table(pn()),xn=p.a.th(fn()),gn=p.a.tr(dn()),vn=p.a.td(sn()),wn=p.a.section(ln()),En=p.a.section(un()),jn=p.a.button(cn()),On=p.a.button(on()),yn=p.a.td(an()),kn=p.a.span(rn()),zn=p.a.label(tn()),Cn=function(e){var n=a.a.useState([]),t=Object(i.a)(n,2),r=t[0],o=t[1],c=a.a.useState(!1),u=Object(i.a)(c,2),s=u[0],f=u[1],p=a.a.useState(!1),m=Object(i.a)(p,2),b=m[0],x=m[1],g=Object(D.a)(),v=Object(i.a)(g,1)[0];return a.a.useEffect((function(){console.log(r)}),[r]),a.a.createElement(Q.Consumer,null,(function(n){var t=n.context.sellers.data;return a.a.createElement(a.a.Fragment,null,a.a.createElement(nn,{visible:b,user:r,onClose:function(){return x(!1)}}),a.a.createElement(Te,{visible:s,onSubmit:function(){var n=Object(d.a)(l.a.mark((function n(r){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return f(!1),n.next=3,j(r,v.authorization.access_token);case 3:e.onRefresh(t.currentPage);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),onClose:function(){f(!1)}}),a.a.createElement(mn,null,a.a.createElement(En,null,a.a.createElement("h4",null,"Vendedores"),a.a.createElement(kn,null,a.a.createElement(zn,null,"Entre",a.a.createElement(J,{onChange:function(){}})),a.a.createElement(zn,null,"e",a.a.createElement(J,{onChange:function(){}})),a.a.createElement(On,{onClick:function(){return e.onRefresh(t.currentPage)}},a.a.createElement(h.f,{size:24})),a.a.createElement(On,{disabled:0===r.length,onClick:function(){x(!0)}},a.a.createElement(h.g,{size:24})),a.a.createElement(On,{onClick:function(){return f(!0)}},a.a.createElement(h.a,{size:24})),a.a.createElement(On,{disabled:0===r.length,onClick:function(){return e.onDelete(r,t.currentPage)}},a.a.createElement(h.c,{size:24})))),a.a.createElement(bn,null,a.a.createElement("tbody",null,a.a.createElement("tr",{style:{textAlign:"right"}},a.a.createElement(vn,null,a.a.createElement("input",{type:"checkbox",checked:t.docs.length===r.length,onChange:function(){o(t.docs)}})),a.a.createElement(xn,{style:{textAlign:"left"}},"ID"),a.a.createElement(xn,null,"Nome"),a.a.createElement(xn,null,"Cargo"),a.a.createElement(xn,null,"Total de vendas"),a.a.createElement(xn,null,"Total pago"),a.a.createElement(xn,null,"Total em aberto"),a.a.createElement(xn,null,"Comiss\xe3o (0,25%)")),t.docs&&t.docs.map((function(e){if("admin"===e.role)return null;var n=e.sales.reduce((function(e,n){return e+n.value}),0),t=0,c=0;e.sales.forEach((function(e){e.paid?c+=e.value:t+=e.value}),0);var i=.0025*c;return a.a.createElement(gn,{key:e.id},a.a.createElement(vn,null,a.a.createElement("input",{type:"checkbox",checked:r.includes(e),onChange:function(){var n=r;r.includes(e)?o(n.filter((function(n){return n!==e}))):o(n.concat([e]))}})),a.a.createElement(yn,{style:{textAlign:"left"}},e.id),a.a.createElement(yn,null,e.name),a.a.createElement(yn,null,"seller"===e.role?"Vendedor":"Op. de caixa"),a.a.createElement(yn,null,"R$ ",Number(n).toFixed(2).replace(".",",")),a.a.createElement(yn,null,"R$ ",Number(c).toFixed(2).replace(".",",")),a.a.createElement(yn,null,"R$ ",Number(t).toFixed(2).replace(".",",")),a.a.createElement(yn,null,"R$ ",Number(i).toFixed(2).replace(".",",")))})))),a.a.createElement(wn,null,a.a.createElement("span",{style:{fontSize:"10pt"}},"Exibindo ",t.count,"-",t.totalCount),a.a.createElement("span",null,a.a.createElement(jn,{disabled:1===t.currentPage,onClick:function(){e.previousPage(t.currentPage),o([])}},a.a.createElement(h.d,{size:18})),a.a.createElement(jn,{type:"button",disabled:t.pages===t.currentPage,onClick:function(){e.nextPage(t.currentPage),o([])}},a.a.createElement(h.e,{size:18}))))))}))},Pn=t(21),An=t.n(Pn);function Dn(){var e=Object(f.a)(["\n    height: 15px;\n    margin: 0 0 0 15px;\n    border: none;\n    background-color: transparent;\n    font-size: 10pt;\n    transition: all .25s ease;\n    cursor: pointer;\n\n    &:hover{\n        text-decoration: underline;\n    }\n"]);return Dn=function(){return e},e}function Sn(){var e=Object(f.a)(["\n    font-weight: 300;\n    font-size: 10pt;\n    color: white;\n    margin-left: 15px;\n    cursor: pointer;\n    border: none;\n    background-color: transparent;\n    transition: all 0.25s ease;\n\n    &:hover{\n        text-decoration: underline;\n    }\n"]);return Sn=function(){return e},e}function Rn(){var e=Object(f.a)(["\n    font-weight: 500;\n    font-size: 12pt;\n    color: white;\n"]);return Rn=function(){return e},e}function _n(){var e=Object(f.a)(["\n    font-weight: 500;\n    font-size: 16pt;\n    color: white;\n"]);return _n=function(){return e},e}function Fn(){var e=Object(f.a)(["\n    width: 100%;\n    height: 30px;\n    background-color: whitesmoke;\n    box-shadow: 1px 1px 8px #ddd;\n    padding: 0 30px;\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-end;\n    align-items: center;\n"]);return Fn=function(){return e},e}function Vn(){var e=Object(f.a)(["\n    width: 100%;\n    height: 60px;\n    background-color: #00de89;\n    box-shadow: 1px 1px 8px #ddd;\n    padding: 0 30px;\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n"]);return Vn=function(){return e},e}function Nn(){var e=Object(f.a)(["\n    left: 0;\n    right: 0;\n    top: 0;\n    height: 90px;\n    position: fixed;\n    z-index: 1;\n    display: flex;\n    flex-direction: column;\n"]);return Nn=function(){return e},e}var Ln=p.a.nav(Nn()),Bn=p.a.div(Vn()),$n=p.a.div(Fn()),Tn=p.a.span(_n()),Gn=p.a.div(Rn()),In=p.a.button(Sn()),Un=p.a.button(Dn()),Mn=function(e){var n=Object(D.a)(),t=Object(i.a)(n,3),r=t[0],o=t[2],c=An.a.decode(r.authorization.access_token);return a.a.createElement(Ln,null,a.a.createElement(Bn,null,a.a.createElement(Tn,null,"Ded\xe9Soft v0.0.1"),a.a.createElement(Gn,null,a.a.createElement("span",null,"Bem vindo, ",c.name,"!"),a.a.createElement(In,{onClick:function(){o("authorization"),window.location.reload()}},"Sair"))),a.a.createElement($n,{style:{display:e.items?null:"none"}},e.items&&e.items.map((function(n){return a.a.createElement(Un,{key:n.path,onClick:function(){return e.onChange(n.path)}},n.name)}))))};function Yn(){var e=Object(f.a)(["\n  padding: 90px 0 0 0;\n  display: flex;\n  flex: row;\n  height: 100%;\n"]);return Yn=function(){return e},e}var qn=p.a.div(Yn()),Hn=function(e){var n=a.a.useState("sales"),t=Object(i.a)(n,2),r=t[0],o=t[1],c=Object(D.a)(),u=Object(i.a)(c,3),f=u[0],p=u[2],h=a.a.useContext(Q),m=function(){var e=Object(d.a)(l.a.mark((function e(n,t){var r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t,f.authorization.access_token).then((function(e){return e})).catch((function(e){window.alert(e.message),p("authorization"),window.location.reload()}));case 2:return r=e.sent,e.next=5,P(n,f.authorization.access_token).then((function(e){return e})).catch((function(e){window.alert(e.message),console.log(e),p("authorization"),window.location.reload()}));case 5:a=e.sent,h.setContext(Object(s.a)({},h,{sales:Object(s.a)({},h.sales,{data:r}),sellers:Object(s.a)({},h.sellers,{data:a})}));case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();a.a.useEffect((function(){m(1,1)}),[]);var b=function(){return a.a.createElement(Cn,{nextPage:function(){var e=Object(d.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(n+1,1);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),previousPage:function(){var e=Object(d.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(n-1,1);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onDelete:function(){var e=Object(d.a)(l.a.mark((function e(n,t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(n,f.authorization.access_token);case 2:return e.next=4,m(t,1);case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),onRefresh:function(){var e=Object(d.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(n,1);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()})},x=function(){return a.a.createElement(je,{nextPage:function(){var e=Object(d.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(1,n+1);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),previousPage:function(){var e=Object(d.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(1,n-1);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onDelete:function(){var e=Object(d.a)(l.a.mark((function e(n,t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(n,f.authorization.access_token);case 2:return e.next=4,m(1,t);case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),onPay:function(){var e=Object(d.a)(l.a.mark((function e(n,t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(n,f.authorization.access_token);case 2:return e.next=4,m(1,t);case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),onRefresh:function(){var e=Object(d.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(1,n);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()})};return a.a.createElement(qn,null,a.a.createElement(Mn,{items:[{name:"Vendas",path:"sales"},{name:"Vendedores",path:"sellers"}],onChange:function(e){o(e)}}),function(){switch(r){case"sales":return a.a.createElement(x,null);case"sellers":return a.a.createElement(b,null);default:return a.a.createElement(x,null)}}())};function Jn(){var e=Object(f.a)(["\n    width: 100%;\n    height: 30px;\n    border: none;\n    border-radius: 3px;\n    margin: 5px 0;\n    background-color: #00de89;\n    color: white;\n    font-weight: 500;\n    transition: filter 0.25s ease;\n\n    &:hover{\n        filter: brightness(.95);\n    }\n"]);return Jn=function(){return e},e}function Kn(){var e=Object(f.a)(["\n    color: #333;\n    font-size: 10pt;\n    font-weight: 300;\n    margin: 5px 0;\n"]);return Kn=function(){return e},e}function Qn(){var e=Object(f.a)(["\n    width: 100%;\n    height: 30px;\n    border: 1px solid #ddd;\n    border-radius: 3px;\n    margin: 5px 0;\n    padding: 0 10px;\n    color: #333;\n"]);return Qn=function(){return e},e}function Wn(){var e=Object(f.a)(["\n    font-size: 14pt;\n    font-weight: 500;\n    margin: 0 0 15px 0;\n"]);return Wn=function(){return e},e}function Xn(){var e=Object(f.a)(["\n    padding: 15px;\n    background-color: white;\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    z-index: 3;\n    display: flex;\n    flex-direction: column;\n    width: 320px;\n"]);return Xn=function(){return e},e}function Zn(){var e=Object(f.a)(["\n    z-index: 2;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: #333;\n    opacity: 0.15;\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n"]);return Zn=function(){return e},e}var et=p.a.div(Zn()),nt=p.a.div(Xn()),tt=p.a.p(Wn()),rt=p.a.input(Qn()),at=p.a.label(Kn()),ot=p.a.button(Jn()),ct=function(e){var n=a.a.useState({}),t=Object(i.a)(n,2),r=t[0],o=t[1],c=Object(D.a)(),u=Object(i.a)(c,1)[0],l=An.a.decode(u.authorization.access_token);return a.a.createElement(a.a.Fragment,null,a.a.createElement(et,{style:{display:e.visible?"flex":"none"}}),a.a.createElement(nt,{style:{display:e.visible?"flex":"none"}},a.a.createElement(tt,null,"Adicionar pedido"),a.a.createElement(at,null,"Vendedor:",a.a.createElement(rt,{value:"".concat(l.code," - ").concat(l.name),disabled:!0,type:"text",placeholder:"ex.: 12"})),a.a.createElement(at,null,"N\xba do pedido:",a.a.createElement(rt,{onChange:function(e){return o(Object(s.a)({},r,{code:e.target.value}))},type:"text",placeholder:"ex.: 032549899"})),a.a.createElement(at,null,"Valor do pedido (R$):",a.a.createElement(rt,{onChange:function(e){return o(Object(s.a)({},r,{value:Number(e.target.value.replace(",","."))}))},type:"text",pattern:"[0-9]",placeholder:"ex.: 100,50"})),a.a.createElement(ot,{onClick:function(){r.code?r.value?e.onSubmit(Object(s.a)({},r,{seller_id:l.id})):window.alert("Por favor, informe o valor do pedido."):window.alert("Por favor, informe N\xba do pedido.")}},"Salvar"),a.a.createElement(ot,{style:{backgroundColor:"tomato"},onClick:function(){return e.onClose()}},"Cancelar")))};function it(){var e=Object(f.a)(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n"]);return it=function(){return e},e}function ut(){var e=Object(f.a)(["\n    padding: 0 10px;\n"]);return ut=function(){return e},e}function lt(){var e=Object(f.a)(["\n    border: none;\n    padding: 5px;\n    background-color: transparent;\n"]);return lt=function(){return e},e}function st(){var e=Object(f.a)(["\n    border: none;\n    padding: 5px;\n    background-color: transparent;\n    font: inherit;\n    cursor: pointer;\n"]);return st=function(){return e},e}function dt(){var e=Object(f.a)(["\n    border: none;\n    padding: 5px;\n    margin: 0 10px;\n    background-color: transparent;\n"]);return dt=function(){return e},e}function ft(){var e=Object(f.a)(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: space-between;\n    margin: 5px 0;\n    padding: 0 15px;\n"]);return ft=function(){return e},e}function pt(){var e=Object(f.a)(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: flex-end;\n    margin: 5px 0;\n    bottom: 15px;\n    right: 15px;\n    position: absolute;\n"]);return pt=function(){return e},e}function ht(){var e=Object(f.a)(["\n    max-width: 40px;\n    height: 40px;\n    padding: 5px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n"]);return ht=function(){return e},e}function mt(){var e=Object(f.a)(["\n    height: 40px;\n    border-bottom: 1px solid #ddd;\n    line-height: 20pt;\n    font-weight: 300;\n    cursor: pointer;\n    text-align: right;\n\n    &:hover{\n        background-color: #eee;\n    }\n"]);return mt=function(){return e},e}function bt(){var e=Object(f.a)(["\n    padding: 0 10px;\n    font-weight: 500;\n"]);return bt=function(){return e},e}function xt(){var e=Object(f.a)(["\n    position: relative;\n    width: 100%;\n    border-collapse: collapse; \n    overflow: auto;\n"]);return xt=function(){return e},e}function gt(){var e=Object(f.a)(["\n    border-radius: 5px;\n    background-color: #fdfdfd;\n    box-shadow: 1px 1px 15px #ddd;\n    margin: 30px;\n    padding: 30px;\n    position: relative;\n    min-height: 560px;\n    flex: 1;\n"]);return gt=function(){return e},e}var vt=p.a.div(gt()),wt=p.a.table(xt()),Et=p.a.th(bt()),jt=p.a.tr(mt()),Ot=p.a.td(ht()),yt=p.a.section(pt()),kt=p.a.section(ft()),zt=p.a.button(dt()),Ct=p.a.button(st()),Pt=p.a.button(lt()),At=p.a.td(ut()),Dt=p.a.span(it()),St=function(e){var n=a.a.useState([]),t=Object(i.a)(n,2),r=t[0],o=t[1],c=a.a.useState(!1),u=Object(i.a)(c,2),s=u[0],f=u[1],p=a.a.useState({}),m=Object(i.a)(p,2),b=m[0],x=m[1],g=a.a.useState(!1),v=Object(i.a)(g,2),w=v[0],j=v[1],O=Object(D.a)(),y=Object(i.a)(O,1)[0];return a.a.createElement(Q.Consumer,null,(function(n){var t=n.context.sales.data;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Y,{visible:w,data:b,onClose:function(){return j(!1)},seller:!0,onAlter:function(){var n=Object(d.a)(l.a.mark((function n(r){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!window.confirm("Deseja realmente ALTERAR esta nota?")){n.next=4;break}return n.next=4,z(r,y.authorization.access_token).then((function(){j(!1),e.onRefresh(t.currentPage)})).catch((function(){return window.alert("Falha ao alterar esta fatura.")}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),onDelete:function(){var n=Object(d.a)(l.a.mark((function n(r){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!window.confirm("Deseja realmente DELETAR esta nota?")){n.next=4;break}return n.next=4,k([{id:r}],y.authorization.access_token).then((function(){j(!1),e.onRefresh(t.currentPage)})).catch((function(){return window.alert("Falha ao deletar esta fatura.")}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}),a.a.createElement(ct,{visible:s,onSubmit:function(){var n=Object(d.a)(l.a.mark((function n(r){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return f(!1),n.next=3,E(r,y.authorization.access_token);case 3:e.onRefresh(t.currentPage);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),onClose:function(){f(!1)}}),a.a.createElement(vt,null,a.a.createElement(kt,null,a.a.createElement("h4",null,"Vendas"),a.a.createElement(Dt,null,a.a.createElement(Pt,{onClick:function(){return e.onRefresh(t.currentPage)}},a.a.createElement(h.f,{size:24})),a.a.createElement(Pt,{onClick:function(){return f(!0)}},a.a.createElement(h.a,{size:24})),a.a.createElement(Pt,{disabled:0===r.length,onClick:function(){window.confirm("Deseja realmente DELETAR estes ".concat(r.length," items?"))&&e.onDelete(r,t.currentPage)}},a.a.createElement(h.c,{size:24})))),a.a.createElement(wt,null,a.a.createElement("tbody",null,a.a.createElement("tr",{style:{textAlign:"right"}},a.a.createElement(Ot,null,a.a.createElement("input",{type:"checkbox",checked:function(){if(t.docs&&t.docs.length>0){var e=t.docs.filter((function(e){return!1===e.paid}));return 0!==e.length&&e.length===r.length}return!1}(),onChange:function(e){if(t.docs){if(!e.target.checked)return o([]);var n=t.docs.filter((function(e){return!1===e.paid}));o(n)}}})),a.a.createElement(Et,{style:{textAlign:"left"}},"N\xba do pedido"),a.a.createElement(Et,null,"Valor"),a.a.createElement(Et,null,"Data"),a.a.createElement(Et,null,"Situa\xe7\xe3o")),t.docs&&t.docs.map((function(e){return a.a.createElement(jt,{key:e.id},a.a.createElement(Ot,null,a.a.createElement("input",{type:"checkbox",disabled:e.paid,checked:r.includes(e),onChange:function(){var n=r;r.includes(e)?o(n.filter((function(n){return n!==e}))):o(n.concat([e]))}})),a.a.createElement(At,{style:{textAlign:"left"}},a.a.createElement(Ct,{onClick:function(){x(e),j(!0)}},e.code)),a.a.createElement(At,null,"R$ ",Number(e.value).toFixed(2).replace(".",",")),a.a.createElement(At,null,new Date(e.createdAt).toLocaleDateString()),a.a.createElement(At,{style:{color:e.paid?"#00de89":"tomato"}},e.paid?"Pago":"Aguardando pagamento"))})))),a.a.createElement(yt,null,a.a.createElement("span",{style:{fontSize:"10pt"}},"Exibindo ",t.count,"-",t.totalCount),a.a.createElement("span",null,a.a.createElement(zt,{disabled:1===t.currentPage,onClick:function(){e.previousPage(t.currentPage),o([])}},a.a.createElement(h.d,{size:18})),a.a.createElement(zt,{type:"button",disabled:t.pages===t.currentPage,onClick:function(){e.nextPage(t.currentPage),o([])}},a.a.createElement(h.e,{size:18}))))))}))};function Rt(){var e=Object(f.a)(["\n  padding: 90px 0 0 0;\n  display: flex;\n  flex: row;\n  height: 100%;\n"]);return Rt=function(){return e},e}var _t=p.a.div(Rt()),Ft=function(e){var n=Object(D.a)(),t=Object(i.a)(n,3),o=t[0],c=t[2],u=Object(r.useContext)(Q),f=function(){var e=Object(d.a)(l.a.mark((function e(n){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(n,o.authorization.access_token).then((function(e){return e})).catch((function(e){window.alert(e.message),c("authorization"),window.location.reload()}));case 2:t=e.sent,u.setContext(Object(s.a)({},u,{sales:Object(s.a)({},u.sales,{data:t})}));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();a.a.useEffect((function(){f(1)}),[]);var p=function(){return a.a.createElement(Q.Consumer,null,(function(e){var n=e.context.sales.data,t=An.a.decode(o.authorization.access_token),r=n.docs.reduce((function(e,n){return e+n.value}),0),c=0,i=0;return n.docs.forEach((function(e){e.paid?i+=e.value:c+=e.value})),a.a.createElement("div",{style:{display:"flex",flexDirection:"column",flex:1}},a.a.createElement("div",{style:{display:"flex",flexDirection:"column",margin:30}},a.a.createElement("h1",null,t.name),a.a.createElement("div",{style:{minHeight:50}}),a.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},a.a.createElement("span",null,"Total: ",a.a.createElement("h3",null,"R$ ",r.toFixed(2).replace(".",","))),a.a.createElement("span",null,"Pago: ",a.a.createElement("h3",{style:{color:"#00de89"}},"R$ ",i.toFixed(2).replace(".",","))),a.a.createElement("span",null,"Em aberto: ",a.a.createElement("h3",{style:{color:"tomato"}},"R$ ",c.toFixed(2).replace(".",","))),a.a.createElement("span",null,"Comiss\xe3o (0,25%): ",a.a.createElement("h3",null,"R$ ",(.0025*i).toFixed(2).replace(".",","))))),a.a.createElement(St,{nextPage:function(){var e=Object(d.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(n+1);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),previousPage:function(){var e=Object(d.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(n-1);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onDelete:function(){var e=Object(d.a)(l.a.mark((function e(n,t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(n,o.authorization.access_token);case 2:return e.next=4,f(t);case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),onRefresh:function(){var e=Object(d.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(n);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}))}))};return a.a.createElement(_t,null,a.a.createElement(Mn,null),a.a.createElement(p,null))},Vt=t(23);function Nt(){var e=Object(f.a)(["\n    position: absolute;\n    bottom: 30px;\n    left: 0;\n    right: 0;\n    text-align: center;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    & a {\n        text-decoration: none;\n        color: #333;\n        font-size: 8pt;\n        font-weight: 300;\n        margin: 0 5px;\n    }\n"]);return Nt=function(){return e},e}function Lt(){var e=Object(f.a)(["\n    font-weight: 500;\n    color: #333;\n    margin: 0 0 15px 0;\n"]);return Lt=function(){return e},e}function Bt(){var e=Object(f.a)(["\n    width: 25%;\n    border-radius: 5px;\n    box-shadow: 1px 1px 8px #ddd;\n    padding: 50px;\n    min-width: 300px;\n"]);return Bt=function(){return e},e}function $t(){var e=Object(f.a)(["\n    width: 100%;\n    height: 30px;\n    border: none;\n    border-radius: 3px;\n    margin: 5px 0;\n    background-color: #00de89;\n    color: white;\n    font-weight: 500;\n"]);return $t=function(){return e},e}function Tt(){var e=Object(f.a)(["\n    width: 100%;\n    height: 30px;\n    border: 1px solid #ddd;\n    border-radius: 3px;\n    margin: 5px 0;\n    padding: 0 10px;\n    color: #333;\n"]);return Tt=function(){return e},e}function Gt(){var e=Object(f.a)(["\n    width: 100vw;\n    height: 100vh;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n"]);return Gt=function(){return e},e}var It=p.a.div(Gt()),Ut=p.a.input(Tt()),Mt=p.a.button($t()),Yt=p.a.section(Bt()),qt=p.a.p(Lt()),Ht=p.a.div(Nt()),Jt=function(e){var n=a.a.useState({}),t=Object(i.a)(n,2),r=t[0],o=t[1],c=Object(D.a)(["authorization"]),u=Object(i.a)(c,2)[1],f=Object(Vt.g)();return a.a.createElement(It,null,a.a.createElement(Yt,null,a.a.createElement(qt,null,"Ded\xe9Soft v0.0.1"),a.a.createElement(Ut,{onChange:function(e){return o(Object(s.a)({},r,{username:e.target.value}))},type:"text",placeholder:"Usu\xe1rio"}),a.a.createElement(Ut,{onChange:function(e){return o(Object(s.a)({},r,{password:e.target.value}))},type:"password",placeholder:"Senha"}),a.a.createElement(Mt,{onClick:Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w(r).then((function(e){switch(e.status){case 200:u("authorization",e.data,{sameSite:"lax"}),f.push("/dashboard");break;case 401:window.alert("Usu\xe1rio e/ou senha incorretos.");break;default:window.alert("Erro inesperado, verifique o status do servidor.")}}));case 1:case"end":return e.stop()}}),e)})))},"Entrar"),a.a.createElement("a",{href:"/nova-senha"},"Est\xe1 em senha?")),a.a.createElement(Ht,null,a.a.createElement("a",{style:{margin:"auto"},href:"https://ghanizadev.github.io",rel:"noopener noreferrer",target:"_blank"},"\xa9 2020 ghanizadev")))},Kt=t(45),Qt=function(){return a.a.createElement("div",null,a.a.createElement("h1",null,"404 - Not Found"))},Wt=t(130),Xt=t.n(Wt);function Zt(){var e=Object(f.a)(["\n    font-weight: 500;\n    color: #333;\n    margin: 0 0 15px 0;\n"]);return Zt=function(){return e},e}function er(){var e=Object(f.a)(["\n    width: 25%;\n    border-radius: 5px;\n    box-shadow: 1px 1px 8px #ddd;\n    padding: 50px;\n    min-width: 300px;\n\n    & label {\n        font-size: 8pt;\n    }\n"]);return er=function(){return e},e}function nr(){var e=Object(f.a)(["\n    width: 100%;\n    height: 30px;\n    border: none;\n    border-radius: 3px;\n    margin: 5px 0;\n    background-color: #00de89;\n    color: white;\n    font-weight: 500;\n"]);return nr=function(){return e},e}function tr(){var e=Object(f.a)(["\n    width: 100%;\n    height: 30px;\n    border: 1px solid #ddd;\n    border-radius: 3px;\n    margin: 5px 0;\n    padding: 0 10px;\n    color: #333;\n"]);return tr=function(){return e},e}function rr(){var e=Object(f.a)(["\n    width: 100vw;\n    height: 100vh;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n"]);return rr=function(){return e},e}var ar=p.a.div(rr()),or=p.a.input(tr()),cr=p.a.button(nr()),ir=p.a.section(er()),ur=p.a.p(Zt()),lr=Object(Vt.h)((function(e){var n=a.a.useState({}),t=Object(i.a)(n,2),o=t[0],c=t[1],u=Object(Vt.g)(),f=Xt.a.parse(e.location.search.substring(1));return Object(r.useEffect)((function(){c(Object(s.a)({},o,{username:f.user,code:f.code}))}),[]),a.a.createElement(ar,null,a.a.createElement(ir,null,a.a.createElement(ur,null,"Nova senha"),a.a.createElement("label",null,"Usu\xe1rio:",a.a.createElement(or,{defaultValue:f.user&&f.user,onChange:function(e){return c(Object(s.a)({},o,{username:e.target.value}))},type:"text",placeholder:"Usu\xe1rio"})),a.a.createElement("label",null,"Senha:",a.a.createElement(or,{onChange:function(e){return c(Object(s.a)({},o,{password:e.target.value}))},type:"password",placeholder:"Senha"})),a.a.createElement("label",null,"Repita a senha:",a.a.createElement(or,{onChange:function(e){return c(Object(s.a)({},o,{confirmPassword:e.target.value}))},type:"password",placeholder:"Confirme sua senha"})),a.a.createElement("label",null,"C\xf3digo de autoriza\xe7\xe3o",a.a.createElement(or,{defaultValue:f.code&&f.code,onChange:function(e){return c(Object(s.a)({},o,{code:e.target.value}))},type:"text",placeholder:"C\xf3digo de autoriza\xe7\xe3o"})),a.a.createElement(cr,{onClick:Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o.password&&o.confirmPassword){e.next=2;break}return e.abrupt("return",window.alert("Preencha todos os campos para prosseguir."));case 2:if(!(o.password.length<4||o.confirmPassword.length<4)){e.next=4;break}return e.abrupt("return",window.alert("A senha de possuir ao menos 4 digitos."));case 4:if(o.password===o.confirmPassword){e.next=6;break}return e.abrupt("return",window.alert("Senhas n\xe3o conferem."));case 6:if(o.code&&""!==o.code){e.next=8;break}return e.abrupt("return",window.alert("Preencha o c\xf3digo de autoriza\xe7\xe3o."));case 8:y(o).then((function(e){switch(e.status){case 204:window.alert("Senha alterada com sucesso!"),u.push("/");break;case 403:window.alert("C\xf3digo de autoriza\xe7\xe3o inv\xe1lido.");break;default:window.alert("Erro inesperado, verifique o status do servidor.")}}));case 9:case"end":return e.stop()}}),e)})))},"Confirmar")))}));function sr(){var e=Object(f.a)(["\n  padding: 90px 0 0 0;\n  display: flex;\n  flex: row;\n  height: 100%;\n"]);return sr=function(){return e},e}var dr=p.a.div(sr()),fr=function(e){var n=a.a.useState({docs:[]}),t=Object(i.a)(n,2),r=t[0],o=t[1],c=a.a.useState({docs:[]}),u=Object(i.a)(c,2),s=u[0],f=u[1],p=Object(D.a)(),h=Object(i.a)(p,3),m=h[0],b=h[2];a.a.useEffect((function(){(function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(1,m.authorization.access_token).then((function(e){return o(e)})).catch((function(){b("authorization"),window.location.reload()}));case 2:return e.next=4,P(1,m.authorization.access_token).then((function(e){return f(e)})).catch((function(){b("authorization"),window.location.reload()}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var x=function(){return a.a.createElement(je,{data:r,nextPage:function(){var e=Object(d.a)(l.a.mark((function e(n){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(n+1,m.authorization.access_token);case 2:t=e.sent,o(t);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),previousPage:function(){var e=Object(d.a)(l.a.mark((function e(n){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(n-1,m.authorization.access_token);case 2:t=e.sent,o(t);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onDelete:function(){var e=Object(d.a)(l.a.mark((function e(n,t){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(n,m.authorization.access_token);case 2:return e.next=4,v(t);case 4:r=e.sent,o(r);case 6:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),onPay:function(){var e=Object(d.a)(l.a.mark((function e(n,t){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(n,m.authorization.access_token);case 2:return e.next=4,v(t,m.authorization.access_token);case 4:r=e.sent,o(r);case 6:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),onRefresh:function(){var e=Object(d.a)(l.a.mark((function e(n){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(s.currentPage,m.authorization.access_token);case 2:t=e.sent,f(t);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()})};return a.a.createElement(dr,null,a.a.createElement(Mn,null),a.a.createElement(x,null))},pr=function(){var e=Object(D.a)(["authorization"]),n=Object(i.a)(e,1)[0],t=n.authorization&&n.authorization.access_token;return a.a.createElement(Kt.a,null,a.a.createElement(Vt.d,null,a.a.createElement(Vt.b,{path:"/nova-senha",component:lr}),a.a.createElement(Vt.b,{path:"/dashboard",exact:!0},t?function(){var e=t&&An.a.decode(n.authorization.access_token);if(e&&e.role)switch(e.role){case"admin":return a.a.createElement(Hn,null);case"seller":return a.a.createElement(Ft,null);case"cashier":return a.a.createElement(fr,null);default:return a.a.createElement(Jt,null)}return a.a.createElement(Jt,null)}():a.a.createElement(Vt.a,{to:"/"})),a.a.createElement(Vt.b,{path:"/",exact:!0},t?a.a.createElement(Vt.a,{to:"/dashboard"}):a.a.createElement(Jt,null)),a.a.createElement(Vt.b,{path:"*",component:Qt})))},hr=t(262);c.a.render(a.a.createElement(hr.a,null,a.a.createElement(W,null,a.a.createElement(pr,null))),document.getElementById("root"))}},[[131,1,2]]]);
//# sourceMappingURL=main.1aabd48a.chunk.js.map